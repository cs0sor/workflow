<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sage 200 Update Sales Order XML</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a>
    <ul>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>Sage 200 Update Sales Order XML</h1>
                    <p>Update Sales Orders allows you to update header analysis codes on existing orders and returns (sales documents) in Sage 200, and progress the documents through the ordering process (allocate, despatch, receive, amend allocations, amend despatches, amend receipts). </p>

<p>Sample XML snippets are provided throughout, these are separated out for clarity. A full sample is provided at the bottom of this article.</p>

<h2 id="matching-sales-ordersreturns">Matching Sales Orders/Returns</h2>
<p>When updating sales documents in Sage, you must provide one of the following key fields to identify the document to update.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UniqueId</td>
      <td>SOPOrderReturnID</td>
      <td>236991</td>
      <td>int</td>
      <td>-</td>
      <td>Required, unless using SalesOrderNumber, Id or CustomerOrderNumber</td>
      <td>The Sage 200 Sales Order/Return database id (not visible in Sage UI).</td>
    </tr>
    <tr>
      <td>SalesOrderNumber</td>
      <td>Order no/Return no</td>
      <td>0000000024</td>
      <td>string</td>
      <td>20</td>
      <td>Required, unless using UniqueId, Id or CustomerOrderNumber</td>
      <td>The Sage 200 document number.</td>
    </tr>
    <tr>
      <td>Id</td>
      <td>-</td>
      <td>123</td>
      <td>string</td>
      <td>4000</td>
      <td>Required, unless using UniqueId, SalesOrderNumber or CustomerOrderNumber</td>
      <td>The Zynk Id of the Sage 200 document; assumes that the document was imported in the same Workflow that the Update Sales Orders task is running from.</td>
    </tr>
    <tr>
      <td>CustomerOrderNumber</td>
      <td>Customer order no</td>
      <td>196</td>
      <td>string</td>
      <td>30</td>
      <td>Required, unless using UniqueId, SalesOrderNumber or Id</td>
      <td>The Sage 200 customer order number; if more than one document exists with the same customer order no, the first match will be processed.</td>
    </tr>
  </tbody>
</table>

<p>You should also specify the document type that you would like to update.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SalesOrderType</td>
      <td>Type</td>
      <td>SopInvoice</td>
      <td>enum</td>
      <td>-</td>
      <td>Optional, assumed SopInvoice if not provided</td>
      <td>The Sage 200 Sales Order/Return type. <strong>SopInvoice</strong> - Sales Order <strong>SopReturn</strong> - Sales Return</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="c">&lt;!-- Matching Sales Order/Return by UniqueId --&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;UniqueId&gt;</span>236991<span class="nt">&lt;/UniqueId&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopInvoice<span class="nt">&lt;/SalesOrderType&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>   

    <span class="c">&lt;!-- Matching Sales Order/Return by SalesOrderNumber --&gt;</span> 
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderNumber&gt;</span>0000000024<span class="nt">&lt;/SalesOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopInvoice<span class="nt">&lt;/SalesOrderType&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>    

    <span class="c">&lt;!-- Matching Sales Order/Return by Id --&gt;</span> 
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;Id&gt;</span>123<span class="nt">&lt;/Id&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopInvoice<span class="nt">&lt;/SalesOrderType&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>    

    <span class="c">&lt;!-- Matching Sales Order/Return by CustomerOrderNumber --&gt;</span> 
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;CustomerOrderNumber&gt;</span>276<span class="nt">&lt;/CustomerOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopReturn<span class="nt">&lt;/SalesOrderType&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="delivery--invoicing---analysis-codes">Delivery &amp; Invoicing - Analysis codes</h2>
<p>Analysis codes are imported from a collection, so you can import as many as are setup within Sage 200.  We lookup analysis codes by matching the Name from our XML to the Field Label in Sage.  The values that can be imported depend on how the analysis code is configured, if you need to import any value ensure Enter Free Text is enabled from Accounting System Manager -&gt; Settings -&gt; Maintain Analysis Codes.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Name</td>
      <td>Analysis Code</td>
      <td>Customer Type</td>
      <td>string</td>
      <td>60</td>
      <td>Required</td>
      <td>The analysis code must already exist in Sage 200.</td>
    </tr>
    <tr>
      <td>Value</td>
      <td>Value</td>
      <td>A</td>
      <td>string</td>
      <td>60</td>
      <td>Optional</td>
      <td>The value must already exist, unless Enter Free Text is enabled.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;AnalysisCodes&gt;</span>
        <span class="nt">&lt;AnalysisCode&gt;</span>
          <span class="nt">&lt;Name&gt;</span>Customer Type<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;Value&gt;</span>A<span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;/AnalysisCode&gt;</span>
        <span class="nt">&lt;AnalysisCode&gt;</span>
          <span class="nt">&lt;Name&gt;</span>Order Source<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;Value&gt;</span>Web<span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;/AnalysisCode&gt;</span>
      <span class="nt">&lt;/AnalysisCodes&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="delivery--invoicing---order-priority">Delivery &amp; Invoicing - Order Priority</h2>
<p>You can update the order priority field by providing the XML below.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Priority</td>
      <td>Order Priority</td>
      <td>A</td>
      <td>string</td>
      <td>1</td>
      <td>Optional</td>
      <td>The order priority should be a single letter from A-Z.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;Priority&gt;</span>A<span class="nt">&lt;/Priority&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="adjusting-sales-orderreturn-items">Adjusting Sales Order/Return Items</h2>
<p>When adjusting sales document item lines in Sage (allocating, amending allocations, despatching, amending despatches, receiving, and amending receipts), you must provide one of the following fields to match the item line that you would like to process. </p>

<p><em>Every Sales Order/Return is processed in it’s entirety, meaning that if any of the Item adjustments cannot be fulfilled then all adjustments will be undone, you can think of each SalesOrder element provided in the data as representing a transaction against Sage, which will be rolled back if any of the item adjustments are unsuccessful. (Any rolled back operations will be captured against the Sage 200 Stock Item History)</em></p>

<p>If you want any valid Item adjustments to be processed regardless of whether or not other Item adjustments on the Order/Return are processed (atomically) then you should provide each Item adjustment in a separate SalesOrder element in the data. See examples at the bottom of this document.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UniqueId</td>
      <td>SOPOrderReturnLineID</td>
      <td>233748</td>
      <td>int</td>
      <td>-</td>
      <td>Required, unless using Sku</td>
      <td>The Sage 200 Sales Order/Return line database id (not visible in Sage UI).</td>
    </tr>
    <tr>
      <td>Sku</td>
      <td>Item</td>
      <td>TILE/WHT/20X20</td>
      <td>string</td>
      <td>30</td>
      <td>Required, unless using UniqueId</td>
      <td>The Sage 200 item code.</td>
    </tr>
    <tr>
      <td>PrintSequenceNumber</td>
      <td>-</td>
      <td>2</td>
      <td>int</td>
      <td>-</td>
      <td>Optional, if using Sku</td>
      <td>The position of the item on the Sage 200 document, could be used if adjusting a particular sku that appears more than once or for stricter validation.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="c">&lt;!-- Matching Sales Order/Return Item by UniqueId --&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;UniqueId&gt;</span>236991<span class="nt">&lt;/UniqueId&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>    
    
    <span class="c">&lt;!-- Matching Sales Order/Return Item by Sku --&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;PrintSequenceNumber&gt;</span>2<span class="nt">&lt;/PrintSequenceNumber&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="allocating-sales-order-items">Allocating Sales Order Items</h2>
<p>To allocate a sales order item, you must specify the amount to allocate.</p>

<p><em>N.B. It is not valid to provide a QtyToAmendAllocate on the same XML Item that QtyToAllocate has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToAllocate</td>
      <td>Qty Allocated</td>
      <td>1</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to allocate.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToAllocate&gt;</span>2<span class="nt">&lt;/QtyToAllocate&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="amending-sales-order-item-allocations">Amending Sales Order Item Allocations</h2>
<p>To amend the allocation of a sales order item, you must specify the amount to amend the allocation by.</p>

<p><em>N.B. It is not valid to provide a QtyToAllocate on the same XML Item that QtyToAmendAllocate has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToAmendAllocate</td>
      <td>Qty Allocated</td>
      <td>1</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to reduce the allocation by.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToAmendAllocate&gt;</span>2<span class="nt">&lt;/QtyToAmendAllocate&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="despatching-sales-order-items">Despatching Sales Order Items</h2>
<p>To despatch a sales order item, you must specify the amount to despatch.</p>

<p><em>N.B. It is not valid to provide a QtyToAmendDespatch on the same XML Item that QtyToDespatch has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToDespatch</td>
      <td>Qty to Despatch</td>
      <td>5</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to despatch.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToDespatch&gt;</span>5<span class="nt">&lt;/QtyToDespatch&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="amending-sales-order-item-despatches">Amending Sales Order Item Despatches</h2>
<p>To amend the despatch of a sales order item, you must specify the amount to amend the despatch by.</p>

<p><em>N.B. It is not valid to provide a QtyToDespatch on the same XML Item that QtyToAmendDespatch has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToAmendDespatch</td>
      <td>Amended Despatch Qty</td>
      <td>2</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to reduce the despatch by.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToAmendDespatch&gt;</span>2<span class="nt">&lt;/QtyToAmendDespatch&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="receiving-sales-return-items">Receiving Sales Return Items</h2>
<p>To receive a sales return item, you must specify the amount to receive.</p>

<p><em>N.B. It is not valid to provide a QtyToAmendReceive on the same XML Item that QtyToReceive has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToReceive</td>
      <td>Qty to Return</td>
      <td>1</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to receive.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToReceive&gt;</span>1<span class="nt">&lt;/QtyToReceive&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="amending-sales-return-item-receipts">Amending Sales Return Item Receipts</h2>
<p>To amend the receipt of a sales return item, you must specify the amount to amend the receipt by.</p>

<p><em>N.B. It is not valid to provide a QtyToReceive on the same XML Item that QtyToAmendReceive has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToAmendReceive</td>
      <td>Amended Receipt Qty</td>
      <td>2</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to reduce the receipt by.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToAmendReceive&gt;</span>2<span class="nt">&lt;/QtyToAmendReceive&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="adjusting-traceable-items">Adjusting Traceable Items</h2>
<p>If you deal with traceable (batch or serial) items in Sage 200, then you can optionally provide the traceable identification numbers to receive the goods as.</p>

<h3 id="batch-items">Batch Items</h3>
<p>If the item line being processed on the goods received note is configured in Sage 200 as a batch item, you can specify the batch information on the goods received note according to the below mapping.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IdentificationNo</td>
      <td>Batch No</td>
      <td>0000000001</td>
      <td>string</td>
      <td>30</td>
      <td>Required</td>
      <td>The identifier of the traceable batch to process.</td>
    </tr>
    <tr>
      <td>Quantity</td>
      <td>Qty Allocated/Qty to Despatch/Qty To Return</td>
      <td>2</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity of the traceable batch to use on the adjustment.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>0000000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h3 id="serial-items">Serial Items</h3>
<p>If the item line being processed on the goods received note is configured in Sage 200 as a serial item, you can specify the batch information on the goods received note according to the below mapping.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IdentificationNo</td>
      <td>Batch No</td>
      <td>0000000001</td>
      <td>string</td>
      <td>30</td>
      <td>Required</td>
      <td>The identifier of the serial item to process.</td>
    </tr>
    <tr>
      <td>Quantity</td>
      <td>Qty Allocated/Qty to Despatch/Qty To Return</td>
      <td>1</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity of a serial adjustment should always be 1.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>0000000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="full-samples">Full Samples</h2>
<h3 id="updating-sales-order">Updating Sales Order</h3>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderNumber&gt;</span>0000000024<span class="nt">&lt;/SalesOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopInvoice<span class="nt">&lt;/SalesOrderType&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAllocate&gt;</span>2<span class="nt">&lt;/QtyToAllocate&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>BAT0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToDespatch&gt;</span>2<span class="nt">&lt;/QtyToDespatch&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>BAT0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/BLK/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAmendDespatch&gt;</span>2<span class="nt">&lt;/QtyToAmendDespatch&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000002<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/BLK/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAmendAllocate&gt;</span>2<span class="nt">&lt;/QtyToAmendAllocate&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000002<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
      <span class="nt">&lt;AnalysisCodes&gt;</span>
        <span class="nt">&lt;AnalysisCode&gt;</span>
          <span class="nt">&lt;Name&gt;</span>Customer Type<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;Value&gt;</span>A<span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;/AnalysisCode&gt;</span>
        <span class="nt">&lt;AnalysisCode&gt;</span>
          <span class="nt">&lt;Name&gt;</span>Order Source<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;Value&gt;</span>Web<span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;/AnalysisCode&gt;</span>
      <span class="nt">&lt;/AnalysisCodes&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h3 id="updating-sales-return">Updating Sales Return</h3>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;CustomerOrderNumber&gt;</span>WEBORDER-1234<span class="nt">&lt;/CustomerOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopReturn<span class="nt">&lt;/SalesOrderType&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToReceive&gt;</span>2<span class="nt">&lt;/QtyToReceive&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>BAT0000004<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAmendReceive&gt;</span>2<span class="nt">&lt;/QtyToAmendReceive&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>BAT0000040<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
      <span class="nt">&lt;AnalysisCodes&gt;</span>
        <span class="nt">&lt;AnalysisCode&gt;</span>
          <span class="nt">&lt;Name&gt;</span>Retail<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;Value&gt;</span>Yes<span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;/AnalysisCode&gt;</span>
        <span class="nt">&lt;AnalysisCode&gt;</span>
          <span class="nt">&lt;Name&gt;</span>Order Source<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;Value&gt;</span>Web<span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;/AnalysisCode&gt;</span>
      <span class="nt">&lt;/AnalysisCodes&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h3 id="updating-sales-order-items-atomically">Updating Sales Order Items Atomically</h3>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderNumber&gt;</span>0000000025<span class="nt">&lt;/SalesOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopInvoice<span class="nt">&lt;/SalesOrderType&gt;</span>
      <span class="nt">&lt;AnalysisCodes&gt;</span>
        <span class="nt">&lt;AnalysisCode&gt;</span>
          <span class="nt">&lt;Name&gt;</span>Customer Type<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;Value&gt;</span>A<span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;/AnalysisCode&gt;</span>
        <span class="nt">&lt;AnalysisCode&gt;</span>
          <span class="nt">&lt;Name&gt;</span>Order Source<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;Value&gt;</span>Web<span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;/AnalysisCode&gt;</span>
      <span class="nt">&lt;/AnalysisCodes&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderNumber&gt;</span>0000000025<span class="nt">&lt;/SalesOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopInvoice<span class="nt">&lt;/SalesOrderType&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X24<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAllocate&gt;</span>2<span class="nt">&lt;/QtyToAllocate&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>BAT0000010<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderNumber&gt;</span>0000000025<span class="nt">&lt;/SalesOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopInvoice<span class="nt">&lt;/SalesOrderType&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X22<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToDespatch&gt;</span>2<span class="nt">&lt;/QtyToDespatch&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>BAT0000020<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderNumber&gt;</span>0000000025<span class="nt">&lt;/SalesOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopInvoice<span class="nt">&lt;/SalesOrderType&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/BLK/20X21<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAmendDespatch&gt;</span>2<span class="nt">&lt;/QtyToAmendDespatch&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000100<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000200<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;SalesOrderNumber&gt;</span>0000000025<span class="nt">&lt;/SalesOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderType&gt;</span>SopInvoice<span class="nt">&lt;/SalesOrderType&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/BLK/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAmendAllocate&gt;</span>2<span class="nt">&lt;/QtyToAmendAllocate&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000150<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000250<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/workflow/docs/tree/master/_documentation/Sage-200-Connector/Sage-200-Update-Sales-Order-XML.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
