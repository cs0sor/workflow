<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sage 200 Update Purchase Order XML</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a>
    <ul>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>Sage 200 Update Purchase Order XML</h1>
                    <p>The Update Purchase Orders task allows you progress purchase documents in Sage 200 through the ordering process (receiving, amending receipts, returning and amending returns). </p>

<p>Sample XML snippets are provided throughout, these are separated out for clarity. A full sample is provided at the bottom of this article.</p>

<h2 id="matching-purchase-ordersreturns">Matching Purchase Orders/Returns</h2>
<p>When updating purchase documents in Sage, you must provide one of the following key fields to identify the document to update.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UniqueId</td>
      <td>POPOrderReturnID</td>
      <td>236991</td>
      <td>int</td>
      <td>-</td>
      <td>Required, unless using PurchaseOrderNumber, Id or SupplierOrderNumber</td>
      <td>The Sage 200 Purchase Order/Return database id (not visible in Sage UI).</td>
    </tr>
    <tr>
      <td>PurchaseOrderNumber</td>
      <td>Order no/Return no</td>
      <td>0000000024</td>
      <td>string</td>
      <td>20</td>
      <td>Required, unless using UniqueId, Id or SupplierOrderNumber</td>
      <td>The Sage 200 document number.</td>
    </tr>
    <tr>
      <td>Id</td>
      <td>-</td>
      <td>123</td>
      <td>string</td>
      <td>4000</td>
      <td>Required, unless using UniqueId, PurchaseOrderNumber or SupplierOrderNumber</td>
      <td>The Zynk Id of the Sage 200 document; assumes that the document was imported in the same Workflow that the Update Purchase Orders task is running from.</td>
    </tr>
    <tr>
      <td>SupplierOrderNumber</td>
      <td>Supplier reference no</td>
      <td>196</td>
      <td>string</td>
      <td>30</td>
      <td>Required, unless using UniqueId, PurchaseOrderNumber or Id</td>
      <td>The Sage 200 supplier reference no; if more than one document exists with the same supplier reference no, the first match will be processed.</td>
    </tr>
  </tbody>
</table>

<p>You should also specify the document type that you would like to update.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>PurchaseOrderType</td>
      <td>Type</td>
      <td>PopInvoice</td>
      <td>enum</td>
      <td>-</td>
      <td>Optional, assumed PopInvoice if not provided</td>
      <td>The Sage 200 Purchase Order/Return type. <strong>PopInvoice</strong> - Purchase Order <strong>PopReturn</strong> - Purchase Return</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="c">&lt;!-- Matching Purchase Order/Return by UniqueId--&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;UniqueId&gt;</span>236991<span class="nt">&lt;/UniqueId&gt;</span>
      <span class="nt">&lt;PurchaseOrderType&gt;</span>PopInvoice<span class="nt">&lt;/PurchaseOrderType&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>

    <span class="c">&lt;!-- Matching Purchase Order/Return by Id --&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;Id&gt;</span>123<span class="nt">&lt;/Id&gt;</span>
      <span class="nt">&lt;PurchaseOrderType&gt;</span>PopInvoice<span class="nt">&lt;/PurchaseOrderType&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>

    <span class="c">&lt;!-- Matching Purchase Order/Return by PurchaseOrderNumber --&gt;</span>   
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderNumber&gt;</span>0000000024<span class="nt">&lt;/PurcahseOrderNumber&gt;</span>
      <span class="nt">&lt;PurchaseOrderType&gt;</span>PopInvoice<span class="nt">&lt;/PurchaseOrderType&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>

    <span class="c">&lt;!-- Matching Purchase Order/Return by SupplierOrderNumber --&gt;</span>    
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;SupplierOrderNumber&gt;</span>196<span class="nt">&lt;/SupplierOrderNumber&gt;</span>
      <span class="nt">&lt;PurchaseOrderType&gt;</span>PopInvoice<span class="nt">&lt;/PurchaseOrderType&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="adjusting-purchase-orderreturn-items">Adjusting Purchase Order/Return Items</h2>
<p>When adjusting purchase document item lines in Sage (receiving, amending receipts, returning and amending returns), you must provide one of the following fields to match the item line that you would like to process. </p>

<p><em>Every Purchase Order/Return is processed in it’s entirety, meaning that if any of the Item adjustments cannot be fulfilled then all adjustments will be undone, you can think of each PurchaseOrder element provided in the data as representing a transaction against Sage, which will be rolled back if any of the item adjustments are unsuccessful. (Any rolled back operations will be captured against the Sage 200 Stock Item History)</em></p>

<p>If you want any valid Item adjustments to be processed regardless of whether or not other Item adjustments on the Order/Return are processed (atomically) then you should provide each Item adjustment in a separate PurchaseOrder element in the data. See examples at the bottom of this document.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UniqueId</td>
      <td>POPOrderReturnLineID</td>
      <td>233748</td>
      <td>int</td>
      <td>-</td>
      <td>Required, unless using Sku</td>
      <td>The Sage 200 Purchase Order/Return line database id (not visible in Sage UI).</td>
    </tr>
    <tr>
      <td>Sku</td>
      <td>Item</td>
      <td>TILE/WHT/20X20</td>
      <td>string</td>
      <td>30</td>
      <td>Required, unless using UniqueId</td>
      <td>The Sage 200 item code.</td>
    </tr>
    <tr>
      <td>PrintSequenceNumber</td>
      <td>-</td>
      <td>2</td>
      <td>int</td>
      <td>-</td>
      <td>Optional, if using Sku</td>
      <td>The position of the item on the Sage 200 document, could be used if adjusting a particular sku that appears more than once or for stricter validation.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="c">&lt;!-- Matching Purchase Order/Return Item by UniqueId --&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;UniqueId&gt;</span>236991<span class="nt">&lt;/UniqueId&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>    
    
    <span class="c">&lt;!-- Matching Purchase Order/Return Item by Sku --&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;PrintSequenceNumber&gt;</span>2<span class="nt">&lt;/PrintSequenceNumber&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="receiving-purchase-order-items">Receiving Purchase Order Items</h2>
<p>To receive a purchase order item, you must specify the amount to receive.</p>

<p><em>N.B. It is not valid to provide a QtyToAmendReceive on the same XML Item that QtyToReceive has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToReceive</td>
      <td>Qty Received</td>
      <td>1</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to receive.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToReceive&gt;</span>1<span class="nt">&lt;/QtyToReceive&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="amending-purchase-order-items-received">Amending Purchase Order Items Received</h2>
<p>To amend the receipt of a purchase order item, you must specify the amount to amend the receipt by.</p>

<p><em>N.B. It is not valid to provide a QtyToReceive on the same XML Item that QtyToAmendReceive has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToAmendReceive</td>
      <td>Qty Received</td>
      <td>1</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to reduce the receipt by.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToAmendReceive&gt;</span>2<span class="nt">&lt;/QtyToAmendReceive&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="returning-purchase-order-items">Returning Purchase Order Items</h2>
<p>To return a purchase order item, you must specify the amount to return.</p>

<p><em>N.B. It is not valid to provide a QtyToAmendReturn on the same XML Item that QtyToReturn has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToReturn</td>
      <td>Qty Returned</td>
      <td>1</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to return.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToReturn&gt;</span>1<span class="nt">&lt;/QtyToReturn&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="amending-purchase-order-items-returned">Amending Purchase Order Items Returned</h2>
<p>To amend the returns of a purchase order item, you must specify the amount to amend the returns by.</p>

<p><em>N.B. It is not valid to provide a QtyToReturn on the same XML Item that QtyToAmendReturn has been provided on.</em></p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>QtyToAmendReturn</td>
      <td>Qty Returned</td>
      <td>1</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity to reduce the returns by.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;QtyToAmendReturn&gt;</span>1<span class="nt">&lt;/QtyToAmendReturn&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="adjusting-traceable-items">Adjusting Traceable Items</h2>
<p>If you deal with traceable (batch or serial) items in Sage 200, then you can optionally provide the traceable identification numbers to receive/return the goods as.</p>

<h3 id="batch-items">Batch Items</h3>
<p>If the item line being processed on the goods received note is configured in Sage 200 as a batch item, you can specify the batch information on the goods received note according to the below mapping.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IdentificationNo</td>
      <td>Batch No</td>
      <td>0000000001</td>
      <td>string</td>
      <td>30</td>
      <td>Required</td>
      <td>The identifier of the traceable batch to process.</td>
    </tr>
    <tr>
      <td>Quantity</td>
      <td>Qty Received/Qty To Return</td>
      <td>2</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity of the traceable batch to use on the adjustment.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToReceive&gt;</span>2<span class="nt">&lt;/QtyToReceive&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>0000000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h3 id="serial-items">Serial Items</h3>
<p>If the item line being processed on the goods received note is configured in Sage 200 as a serial item, you can specify the batch information on the goods received note according to the below mapping.</p>

<table>
  <thead>
    <tr>
      <th>XML Field</th>
      <th>Sage Field</th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length</th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IdentificationNo</td>
      <td>Batch No</td>
      <td>0000000001</td>
      <td>string</td>
      <td>30</td>
      <td>Required</td>
      <td>The identifier of the serial item to process.</td>
    </tr>
    <tr>
      <td>Quantity</td>
      <td>Qty Received/Qty To Return</td>
      <td>1</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td>The quantity of a serial adjustment should always be 1.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToReceive&gt;</span>2<span class="nt">&lt;/QtyToReceive&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>0000000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="complete-examples">Complete Examples</h2>
<p>Full samples of the XML are provided below.</p>

<h3 id="updating-purchase-order">Updating Purchase Order</h3>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderNumber&gt;</span>0000000024<span class="nt">&lt;/PurchaseOrderNumber&gt;</span>
      <span class="nt">&lt;PurchaseOrderType&gt;</span>PopInvoice<span class="nt">&lt;/PurchaseOrderType&gt;</span>
      <span class="nt">&lt;PurchaseOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToReceive&gt;</span>2<span class="nt">&lt;/QtyToReceive&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>BAT0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/BLK/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAmendReceive&gt;</span>2<span class="nt">&lt;/QtyToAmendReceive&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000002<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h3 id="updating-purchase-return">Updating Purchase Return</h3>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderNumber&gt;</span>0000000025<span class="nt">&lt;/PurchaseOrderNumber&gt;</span>
      <span class="nt">&lt;PurchaseOrderType&gt;</span>PopReturn<span class="nt">&lt;/PurchaseOrderType&gt;</span>
      <span class="nt">&lt;PurchaseOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToReturn&gt;</span>2<span class="nt">&lt;/QtyToReturn&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>BAT0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/BLK/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAmendReturn&gt;</span>2<span class="nt">&lt;/QtyToAmendReturn&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000002<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h3 id="updating-purchase-order-atomically">Updating Purchase Order Atomically</h3>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseOrders&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderNumber&gt;</span>0000000024<span class="nt">&lt;/PurchaseOrderNumber&gt;</span>
      <span class="nt">&lt;PurchaseOrderType&gt;</span>PopInvoice<span class="nt">&lt;/PurchaseOrderType&gt;</span>
      <span class="nt">&lt;PurchaseOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/WHT/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToReceive&gt;</span>2<span class="nt">&lt;/QtyToReceive&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>BAT0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
    <span class="nt">&lt;PurchaseOrder&gt;</span>
      <span class="nt">&lt;PurchaseOrderNumber&gt;</span>0000000024<span class="nt">&lt;/PurchaseOrderNumber&gt;</span>
      <span class="nt">&lt;PurchaseOrderType&gt;</span>PopInvoice<span class="nt">&lt;/PurchaseOrderType&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>TILE/BLK/20X20<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;QtyToAmendReceive&gt;</span>2<span class="nt">&lt;/QtyToAmendReceive&gt;</span>
          <span class="nt">&lt;Batches&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000001<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
            <span class="nt">&lt;Batch&gt;</span>
              <span class="nt">&lt;IdentificationNo&gt;</span>SER0000002<span class="nt">&lt;/IdentificationNo&gt;</span>
              <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
            <span class="nt">&lt;/Batch&gt;</span>
          <span class="nt">&lt;/Batches&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/PurchaseOrderItems&gt;</span>
    <span class="nt">&lt;/PurchaseOrder&gt;</span>
  <span class="nt">&lt;/PurchaseOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/workflow/docs/tree/master/_documentation/Sage-200-Connector/Sage-200-Update-Purchase-Order-XML.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
