<!DOCTYPE html>
<html lang="en">
<head>
    <title>Downloading Orders from Amazon Marketplace</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a>
    <ul>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>Downloading Orders from Amazon Marketplace</h1>
                    <p>This task will provide a list of updated orders in XML format from a specified Amazon MWS account, in an XML format.</p>

<h2 id="settings">Settings</h2>
<h3 id="api-call-delay">API Call Delay</h3>
<p><em>Required</em><br />
Specify the delay in milliseconds to use between calls to Amazon. Amazon throttle requests to their services, so if sending a large data set you may need to increase this limit.</p>

<h3 id="connection">Connection</h3>
<p><em>Required</em><br />
The Amazon Marketplace Connection to use. See the <a href="connecting-to-amazon-marketplace">Connecting to Amazon Marketplace</a> article if you require more information on how to create/manage connections.</p>

<h3 id="download-date">Download Date</h3>
<p><em>Required</em><br />
The initial date to download orders from. Any orders placed before this date will not download, even if they are updated. This can be used to prevent orders which have already been handled manually from being downloaded.</p>

<h3 id="download-from">Download From</h3>
<p><em>Required</em><br />
The rolling date to download updated orders from. This will automatically update each time the task runs. TIP: If you want to re-download old orders, change the Download From property</p>

<h3 id="fulfilment-channel">Fulfilment Channel</h3>
<p><em>Required</em><br />
The fulfilment channel of orders to download from Amazon. Choose whether to download orders fulfilled by Amazon (AFN), not fulfilled by Amazon (MFN) or all (All).
Defaults to all fulfilment channels.</p>

<h3 id="order-status">Order Status</h3>
<p><em>Required</em><br />
The status of when you want to download the order from Amazon. Choose from Pending, Unshipped, PartiallyShipped, Shipped, Cancelled or Unfulfillable.</p>

<h3 id="output-file">Output File</h3>
<p><em>Required</em><br />
The name of the file to export the downloaded orders to.</p>

<h3 id="zynk-settings">Zynk Settings</h3>
<p>See <a href="common-task-settings">Common Task Settings</a>.</p>

<h2 id="examples">Examples</h2>
<p>You can find an example of how to use this task in the <a href="amazon-to-sage-integration-article">Amazon to Sage Integration article</a>.</p>

<p>Sample output file:</p>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Orders&gt;</span>
	<span class="nt">&lt;Order</span> <span class="na">AmazonOrderId=</span><span class="s">"012-0123456-0123456"</span> <span class="na">SellerOrderId=</span><span class="s">""</span> <span class="na">PurchaseDate=</span><span class="s">"03/04/2014 10:30:55"</span> <span class="na">LastUpdateDate=</span><span class="s">"03/04/2014 11:01:13"</span> <span class="na">OrderStatus=</span><span class="s">"Unshipped"</span> <span class="na">FulfillmentChannel=</span><span class="s">"MFN"</span> <span class="na">SalesChannel=</span><span class="s">"Amazon.co.uk"</span> <span class="na">OrderChannel=</span><span class="s">""</span> <span class="na">ShipServiceLevel=</span><span class="s">"Std UK Dom"</span> <span class="na">NumberOfItemsShipped=</span><span class="s">"0"</span> <span class="na">NumberOfItemsUnshipped=</span><span class="s">"1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;ShippingAddress</span> <span class="na">Name=</span><span class="s">"Zynk Software"</span> <span class="na">AddressLine1=</span><span class="s">"Nelson House"</span> <span class="na">AddressLine2=</span><span class="s">"Fleming Business Centre"</span> <span class="na">AddressLine3=</span><span class="s">"Jesmond"</span> <span class="na">City=</span><span class="s">"Newcastle"</span> <span class="na">County=</span><span class="s">""</span> <span class="na">District=</span><span class="s">""</span> <span class="na">StateOrRegion=</span><span class="s">"England"</span> <span class="na">PostalCode=</span><span class="s">"NE2 3AE"</span> <span class="na">CountryCode=</span><span class="s">"GB"</span> <span class="na">Phone=</span><span class="s">"0845 123 2920"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;OrderTotal</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"10.29"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;OrderItems&gt;</span>
			<span class="nt">&lt;OrderItem</span> <span class="na">ASIN=</span><span class="s">"B00272N8Q2"</span> <span class="na">SellerSKU=</span><span class="s">"PROD001"</span> <span class="na">Title=</span><span class="s">"Test Product"</span> <span class="na">QuantityOrdered=</span><span class="s">"1"</span> <span class="na">QuantityShipped=</span><span class="s">"0"</span> <span class="na">GiftMessageText=</span><span class="s">""</span><span class="nt">&gt;</span>
				<span class="nt">&lt;ItemPrice</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"6.34"</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;ShippingPrice</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"3.95"</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;GiftWrapPrice</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"0.00"</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;ItemTax</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"0.00"</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;ShippingTax</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"0.00"</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;GiftWrapTax</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"0.00"</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;ShippingDiscount</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"0.00"</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;PromotionDiscount</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"0.00"</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;/OrderItem&gt;</span>
		<span class="nt">&lt;/OrderItems&gt;</span>
	<span class="nt">&lt;/Order&gt;</span>
<span class="nt">&lt;/Orders&gt;</span>
</code></pre>
</div>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/workflow/docs/tree/master/_documentation/Amazon-Marketplace-Connector/Downloading-Orders-from-Amazon-Marketplace.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
