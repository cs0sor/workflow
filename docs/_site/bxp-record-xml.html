<!DOCTYPE html>
<html lang="en">
<head>
    <title>BXP Record XML</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a></li>
  <li>[[Introduction]]
    <ul>
      <li>[[Welcome]]</li>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>BXP Record XML</h1>
                    <p>This task will update or insert records to a form in BXP, and update or insert related records from other forms. All the examples on this page use form ID 1, which represents orders, and form ID 2, which represents order item lines. A complete example is shown below which shows how to insert or update an order with OrderNumber 8290, and insert or update 2 item lines for the order. Subsequent examples demonstrate the separate parts of the XML in more detail.</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Records</span> <span class="na">FormId=</span><span class="s">"1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Record&gt;</span>
    <span class="nt">&lt;MatchField</span> <span class="na">Name=</span><span class="s">"OrderNumber"</span> <span class="na">Value=</span><span class="s">"8290"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"CustomerId"</span> <span class="na">Value=</span><span class="s">"689"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"Address1"</span> <span class="na">Value=</span><span class="s">"i6 Building"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"Address2"</span> <span class="na">Value=</span><span class="s">"Charlotte Square"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"City"</span> <span class="na">Value=</span><span class="s">"Newcastle-upon-Type"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"State"</span> <span class="na">Value=</span><span class="s">"Tyne and Wear"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"PostCode"</span> <span class="na">Value=</span><span class="s">"NE1 4XF"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"CountryCode"</span> <span class="na">Value=</span><span class="s">"GB"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"SubTotal"</span> <span class="na">Value=</span><span class="s">"150"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"Shipping"</span> <span class="na">Value=</span><span class="s">"5"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"ShippingVatRate"</span> <span class="na">Value=</span><span class="s">"20"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"Total"</span> <span class="na">Value=</span><span class="s">"186"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;RelatedRecords</span> <span class="na">FormId=</span><span class="s">"2"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Record&gt;</span>
        <span class="nt">&lt;MatchField</span> <span class="na">Name=</span><span class="s">"OrderNumber"</span> <span class="na">Value=</span><span class="s">"8290"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;MatchField</span> <span class="na">Name=</span><span class="s">"SkuCode"</span> <span class="na">Value=</span><span class="s">"PROD001"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"Quantity"</span> <span class="na">Value=</span><span class="s">"5"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"UnitPrice"</span> <span class="na">Value=</span><span class="s">"10"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"VatRate"</span> <span class="na">Value=</span><span class="s">"20"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"SubTotal"</span> <span class="na">Value=</span><span class="s">"50"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"Total"</span> <span class="na">Value=</span><span class="s">"60"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/Record&gt;</span>
      <span class="nt">&lt;Record&gt;</span>
        <span class="nt">&lt;MatchField</span> <span class="na">Name=</span><span class="s">"OrderNumber"</span> <span class="na">Value=</span><span class="s">"8290"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;MatchField</span> <span class="na">Name=</span><span class="s">"SkuCode"</span> <span class="na">Value=</span><span class="s">"PROD002"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"Quantity"</span> <span class="na">Value=</span><span class="s">"2"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"UnitPrice"</span> <span class="na">Value=</span><span class="s">"50"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"VatRate"</span> <span class="na">Value=</span><span class="s">"20"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"SubTotal"</span> <span class="na">Value=</span><span class="s">"100"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"Total"</span> <span class="na">Value=</span><span class="s">"120"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/Record&gt;</span>
    <span class="nt">&lt;/RelatedRecords&gt;</span>
  <span class="nt">&lt;/Record&gt;</span>
<span class="nt">&lt;/Records&gt;</span>
</code></pre>
</div>

<h2 id="records">Records</h2>
<p>The Records element represents a collection of records to upload to BXP. This element is the root of the XML document.</p>

<table>
  <thead>
    <tr>
      <th>XML Field </th>
      <th>Example </th>
      <th>Field Type </th>
      <th>Input </th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>@FormId</td>
      <td>1</td>
      <td>integer</td>
      <td>Required</td>
      <td>The form ID to upload the of records contained within the collection. This should correspond with the ID of a form in BXP.</td>
    </tr>
    <tr>
      <td>Record</td>
      <td>See below</td>
      <td>Record</td>
      <td>Optional</td>
      <td>Represents a record to upload to BXP. 0 or more Record elements can be included in the Records collection. See below for more information on the Record element.</td>
    </tr>
  </tbody>
</table>

<h2 id="record">Record</h2>
<p>The Record element represents an individual record to insert or update in BXP.</p>

<table>
  <thead>
    <tr>
      <th>XML Field </th>
      <th>Example </th>
      <th>Field Type </th>
      <th>Input </th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ExternalId</td>
      <td>8290</td>
      <td>string</td>
      <td>Optional</td>
      <td>You can include the ID of the record from the source system here. This value will not be uploaded to BXP. Zynk will track it internally using the truth table, and will create a mapping between the ExternalId value and the ID assigned by BXP. If the a record with the same ExternalId is seen in future, it will be automatically matched to the existing record ID in BXP. Please note that if a matching ExternalId is found by Zynk, this will override any MatchField(s) provided. It will never override the BXP ID if this is explicitly provided as a Field.</td>
    </tr>
    <tr>
      <td>MatchField</td>
      <td>Name=”OrderNumber” Value=”8290”</td>
      <td>string</td>
      <td>Optional</td>
      <td>Represents the name and value of a field that is used for matching to existing records in BXP. If more than one MatchField is specified, it will look for a matching record in BXP where all of the MatchFields match. The fields used should represent a unique value or a unique combination of values. If this is not the case, Zynk will return an error.</td>
    </tr>
    <tr>
      <td>Field</td>
      <td>Name=”Address1” Value=”i6 Building”</td>
      <td>string</td>
      <td>Optional</td>
      <td>Represents the name and value of a field that should be updated in BXP.</td>
    </tr>
    <tr>
      <td>RelatedRecords</td>
      <td>See below</td>
      <td>RelatedRecords</td>
      <td>Optional</td>
      <td>Any related records to be uploaded to BXP can be included in the RelatedRecords collection. See below for more information.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Records</span> <span class="na">FormId=</span><span class="s">"1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Record&gt;</span>
    <span class="nt">&lt;ExternalId&gt;</span>8290<span class="nt">&lt;/ExternalId&gt;</span>
    <span class="nt">&lt;MatchField</span> <span class="na">Name=</span><span class="s">"OrderNumber"</span> <span class="na">Value=</span><span class="s">"8290"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Field</span> <span class="na">Name=</span><span class="s">"CustomerId"</span> <span class="na">Value=</span><span class="s">"689"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;RelatedRecords</span> <span class="na">FormId=</span><span class="s">"2"</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;/RelatedRecords&gt;</span>
  <span class="nt">&lt;/Record&gt;</span>
<span class="nt">&lt;/Records&gt;</span>
</code></pre>
</div>

<h2 id="relatedrecords">RelatedRecords</h2>
<p>The RelatedRecords element represents a collection of related records to upload to a different form in BXP.</p>

<table>
  <thead>
    <tr>
      <th>XML Field </th>
      <th>Example </th>
      <th>Field Type </th>
      <th>Input </th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>@FormId</td>
      <td>2</td>
      <td>integer</td>
      <td>Required</td>
      <td>The form ID to upload the of records contained within the collection. This should correspond with the ID of a form in BXP.</td>
    </tr>
    <tr>
      <td>Record</td>
      <td>See above</td>
      <td>Record</td>
      <td>Optional</td>
      <td>Represents a related record to upload to BXP. 0 or more Record elements can be included in the Records collection. See above for more information on the Record element.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Records</span> <span class="na">FormId=</span><span class="s">"1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Record&gt;</span>
    <span class="nt">&lt;RelatedRecords</span> <span class="na">FormId=</span><span class="s">"2"</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;/RelatedRecords&gt;</span>
  <span class="nt">&lt;/Record&gt;</span>
<span class="nt">&lt;/Records&gt;</span>
</code></pre>
</div>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/Zynk-workflow/docs/tree/master/_documentation/BXP-Connector/BXP-Record-XML.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
