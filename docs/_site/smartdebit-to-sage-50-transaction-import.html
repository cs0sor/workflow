<!DOCTYPE html>
<html lang="en">
<head>
    <title>SmartDebit to Sage 50 Transaction Import</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a></li>
  <li>[[Introduction]]
    <ul>
      <li>[[Welcome]]</li>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>SmartDebit to Sage 50 Transaction Import</h1>
                    <p>The SmartDebit to Sage 50 integration allows you to download all new direct debits taken through SmartDebit and import into Sage 50 as either Sales Receipts or Bank Receipts.  The integration allows you to customise the import, specifying the Bank account code, Nominal code, Department, Account reference and Transaction references to use for transactions.  The integration will download all SmartDebit transactions for the specified period and import them as Sales Receipts against the account reference held in SmartDebit.</p>

<h2 id="getting-started">Getting Started</h2>
<p>To use the integration you will need to have Sage 50 and Zynk installed, a valid SmartDebit API username, password and PSLID.  If you require API details please contact SmartDebit directly as we are unable to provide direct support of their API.</p>

<p>If you do not have any SmartDebit API credentials, you can contact SmartDebit by emailing support@smartdebit.com</p>

<p>You can <a href="http://zynk.com/download-trial/">register for a trial of Zynk here</a>.</p>

<p>To configure the integration you will need to download the SmartDebit to Sage 50 Workflow, which can be <a href="https://github.com/zynksoftware/samples/tree/master/Integration%20Samples/SmartDebit%20to%20Sage%2050/My%20Workflows">found here</a>.  You can also find a copy of the workflow in Zynk under the Workflow Templates section.</p>

<h2 id="connecting-to-smartdebit">Connecting to SmartDebit</h2>
<p>Once you have installed Zynk and the workflow you will need to configure the tasks to connect to your systems.  Open the workflow in Zynk and select the Download Direct Debits tasks, then follow the instructions below to create a new connection to Smart Debit.</p>

<ol>
  <li>Click the Connection setting, then open up the drop down.</li>
  <li>Click the New button.</li>
  <li>In the window that appears, click Next, then fill in your Username, Password and PSLID in the boxes provided. Click Finish to save the connection to Smart  Debit.</li>
  <li>Select the newly created connection from the Connection setting drop down.</li>
</ol>

<p><a href="https://s3.amazonaws.com/helpscout.net/docs/assets/565effd4c697915b26a5c620/images/56b09f1dc6979143615648e2/file-yVXFFsTb0v.png"><img src="https://s3.amazonaws.com/helpscout.net/docs/assets/565effd4c697915b26a5c620/images/56b09f1dc6979143615648e2/file-yVXFFsTb0v.png" alt="" /></a></p>

<p>You should also set the Download Date setting on the Download Direct Debits task to when you want to start downloading transactions from.</p>

<h2 id="connecting-to-sage-50">Connecting to Sage 50</h2>
<p>To connect to Sage 50 simply run the workflow, you will be prompted to choose your company and enter a username and password.  We would recommend you create a new user for Zynk to connect to Sage so you can run the integration while you are logged in to Sage.</p>

<h2 id="customising-the-mapping">Customising the Mapping</h2>
<p>You can customise the following fields within the integration; these can either be a literal piece of text e.g. setting your Bank code to ‘1200’, or a field from the SmartDebit direct debit feed. To change the mappings, open the workflow in Zynk, highlight the Auto Mapper task, and click the edit button (ellipsis) by Mapping. Setting the Value column in the Parameters table will allow you to change the mapping as required.  Note, you can only customise basic field mappings.</p>

<p><a href="https://s3.amazonaws.com/helpscout.net/docs/assets/565effd4c697915b26a5c620/images/56b0a0539033603f7da37028/file-qVqwNiCnmm.png"><img src="https://s3.amazonaws.com/helpscout.net/docs/assets/565effd4c697915b26a5c620/images/56b0a0539033603f7da37028/file-qVqwNiCnmm.png" alt="" /></a></p>

<p>Make sure all these parameters are specified in the Auto Mapper configuration.</p>

<h2 id="customisable-fields">Customisable Fields</h2>
<p>| Field Name | Description | Example / Default |
| — | — | — |
| TransactionType |Type to import, either SalesReceipt or BankReceipt |SalesReceipt |
| BankCode | The bank reference to use for receipts, must exist in Sage | 1200 |
| NominalCode | Nominal code for transactions | 4000 |
| Department | Department for transactions| |
| TaxCode | Tax code for transactions| |
| AccountReference | The account reference for receipts, must exist in Sage | payer_reference |
| Reference | The reference to use for receipts |reference_number |
| PaymentReference | The external reference to use for receipts| |
| Details | The details to use for receipts | |</p>

<h2 id="available-smartdebit-fields">Available SmartDebit Fields</h2>
<p>| FieldName | Example |
| — | — |
| company_name | Internetware Limited |
| title | Mr |
| first_name | Andrew |
| last_name | Snape |
| frequency_type | M |
| start_date | 2010-11-14T00:00:00Z |
| reference_number | INW000000 |
| payer_reference | INT001 |
| address_1 | 6-8 Charlotte Square |
| address_2 | |
| town | Newcastle |
| country | UnitedKingdom |
| postcode | NE14XF |
| email_address | support@internetware.co.uk |
| default_amount | 1000 |
| first_amount | 1000 |</p>

<h1 id="testing-the-integration">Testing the Integration</h1>
<p>We would advise testing the integration against a copy of your Sage data before running against your live accounts.  You can do this either by setting up a second company within Sage 50, or ensuring you have taken a recent backup and can run a restore if required.</p>

<p>The integration downloads transactions based on the date of the direct debits; you can control when the integration will start, or reset the integration if you are testing, by changing the Download Date setting under the Download Direct Debits task.</p>

<h2 id="reporting">Reporting</h2>
<p>Zynk can optionally send you an import report via email, summarising successfully imported transactions as well as any failed transactions (due to invalid or insufficient information) along with the reason for failure. In order to receive the report you will need to click on the checkbox to enable the task in the workflow, then specify the SMTP details for your own Email, by following the instructions below:</p>

<ol>
  <li>Click the SMTP Connection setting, then open up the drop down.</li>
  <li>Click the New button.</li>
  <li>In the window that appears, click Next, then enter your SMTP details into the boxes provided. Click Finish to save the connection to the SMTP server.</li>
  <li>Select the newly created connection from the  SMTP Connection setting drop down.</li>
</ol>

<p>Any failed transactions in the report will need to be entered manually into Sage 50.</p>

<p><a href="https://s3.amazonaws.com/helpscout.net/docs/assets/565effd4c697915b26a5c620/images/56b0a0f99033603f7da3702b/file-kq2DwEOuej.png"><img src="https://s3.amazonaws.com/helpscout.net/docs/assets/565effd4c697915b26a5c620/images/56b0a0f99033603f7da3702b/file-kq2DwEOuej.png" alt="" /></a></p>

<p>If you have any queries on any of the above, feel free to contact our support team via email at support@zynk.com or via telephone on 0191 303 7279. Please note, as stated on the Auto Mapper task we do not support any changes to XSLT.</p>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/Zynk-workflow/docs/tree/master/_documentation/Integrations-Section/SmartDebit-to-Sage-50-Transaction-Import.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
