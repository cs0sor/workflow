<!DOCTYPE html>
<html lang="en">
<head>
    <title>Auto Mapper</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a>
    <ul>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>Auto Mapper</h1>
                    <p>This task will automatically map XML data to and from the Zynk XML format. It is typically used as a simple way to transform data provided by an external system (such as Amazon, Ebay, etc.) into a format which is ready for import into Sage.</p>

<p>The task works using a standard XSL transform, which can be customised to meet your specific requirements using the ‘Customise Mapping’ button within the mapping settings.</p>

<h2 id="settings">Settings</h2>
<h3 id="input-file">Input File</h3>
<p><em>Required</em><br />
The input XML file containing the data you would like to transform.</p>

<h3 id="mapping">Mapping</h3>
<p><em>Required</em><br />
This is where you specify how you would like the data to be mapped. See the ‘Configuring the Mapping’ section below for more details.</p>

<h3 id="output-file">Output File</h3>
<p><em>Required</em><br />
The XML file the result should be saved to.</p>

<h3 id="zynk-settings">Zynk Settings</h3>
<p>See <a href="common-task-settings">Common Task Settings</a></p>

<h2 id="configuring-the-mapping">Configuring the Mapping</h2>
<p>To configure the mapping, click on the ellipsis (…) button on the ‘Mapping’ setting. You will then see a window like the one below.</p>

<p><a href="http://www.zynk.com/images/zynk_auto_mapper.png"><img src="http://www.zynk.com/images/zynk_auto_mapper.png" alt="Zynk Auto Mapper" title="Zynk Auto Mapper" /></a></p>

<ol>
  <li>Select the format of the input file from the drop down menu. For example, if you want to convert orders downloaded from Amazon, you should choose ‘Amazon’ as the input format.</li>
  <li>Select the data type of the input file from the drop down menu. For example, if you want to convert orders downloaded from Amazon, you should choose ‘Orders’ as the data type.</li>
  <li>Select the format you would like to map the input file to. For example, if you would like to output orders in Zynk’s own XML format (Connect XML), you should choose ‘Zynk XML’ as the output file format.</li>
  <li>Select the data type you would like to map the input file to. For example, if you would like to output orders in Zynk’s own XML format (Connect XML), you should choose ‘Orders’ as the output file data type.</li>
  <li>Once you have completed the first four steps, any parameters that are required to perform the mapping will be listed. If there are any parameters, you should enter an appropriate value for them in the ‘Value’ column. For example, if one of the parameters was ‘Currency’, you should enter the currency any monetary data is in. You also have the option to encrypt any sensitive data stored in parameters, by checking the ‘Encrypt’ box.</li>
  <li>If necessary, you can customise the way the data is mapped by clicking the ‘Customise Mapping’ button. More details about how to customise the mapping can be found below.</li>
  <li>Once you are finished setting up the mapping, click the ‘Ok’ button.</li>
</ol>

<p><strong>Note:</strong> If the drop down menus do not list the format or data type you are looking for, then Zynk cannot currently transform your data automatically. As an alternative, you can transform the data yourself using the <a href="xslt-transform">XSLT Transform</a>.</p>

<h2 id="customising-the-mapping">Customising the Mapping</h2>
<p>The mapping provided can be customised to match your specific requirements. You should only use this option if you have a good knowledge of using XSLT to transform XML data, tutorials for writing XSL transforms can be found at <a href="http://www.w3schools.com/xsl/default.asp">W3 Schools</a>. Please note that the task only supports XSLT 1.0. Zynk Software cannot provide support for mappings which have been customised.</p>

<p>To customise the mapping, click the ‘Customise Mapping’ button, and you will see a window like the one below.</p>

<p><a href="http://www.zynk.com/images/zynk_auto_mapper.png"><img src="http://www.zynk.com/images/zynk_auto_mapper_customise.jpg" alt="Zynk Auto Mapper Customise" title="Zynk Auto Mapper Customise" /></a></p>

<p>The XSLT used in the mapping is displayed, and can be edited to match your specific requirements. Once you are finished modifying the XSLT, click the ‘Save’ button to save the changes. You can also use the ‘Revert’ button to revert back to the original XSLT. This can be useful if you have made a change to an XSLT that has causes an error to occur when the Auto Mapper task runs.</p>

<h2 id="examples">Examples</h2>

<p>Sample input file containing an Amazon order:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Orders&gt;</span>
  <span class="nt">&lt;Order</span> <span class="na">AmazonOrderId=</span><span class="s">"123-1234567-1234567"</span> <span class="na">SellerOrderId=</span><span class="s">"123-1234567-1234567"</span> <span class="na">PurchaseDate=</span><span class="s">"13/01/2013 18:46:35"</span> <span class="na">LastUpdateDate=</span><span class="s">"14/01/2013 15:31:09"</span> <span class="na">OrderStatus=</span><span class="s">"Shipped"</span> <span class="na">FulfillmentChannel=</span><span class="s">"AFN"</span> <span class="na">SalesChannel=</span><span class="s">"Amazon.co.uk"</span> <span class="na">OrderChannel=</span><span class="s">""</span> <span class="na">ShipServiceLevel=</span><span class="s">"Standard"</span> <span class="na">NumberOfItemsShipped=</span><span class="s">"1"</span> <span class="na">NumberOfItemsUnshipped=</span><span class="s">"0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ShippingAddress</span> <span class="na">Name=</span><span class="s">"Joe Bloggs"</span> <span class="na">AddressLine1=</span><span class="s">"Zynk Software"</span> <span class="na">AddressLine2=</span><span class="s">"Nelson House"</span> <span class="na">AddressLine3=</span><span class="s">"Jesmond"</span> <span class="na">City=</span><span class="s">"Newcastle"</span> <span class="na">County=</span><span class="s">""</span> <span class="na">District=</span><span class="s">""</span> <span class="na">StateOrRegion=</span><span class="s">"Tyne &amp; Wear"</span> <span class="na">PostalCode=</span><span class="s">"NE2 3AE"</span> <span class="na">CountryCode=</span><span class="s">"GB"</span> <span class="na">Phone=</span><span class="s">"08451232920"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;OrderTotal</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"5.16"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;OrderItems&gt;</span>
      <span class="nt">&lt;OrderItem</span> <span class="na">ASIN=</span><span class="s">"B0002JT1Q8"</span> <span class="na">SellerSKU=</span><span class="s">"LACO22103"</span> <span class="na">Title=</span><span class="s">"Laco Regular Soldering Flux 60g 22103"</span> <span class="na">QuantityOrdered=</span><span class="s">"1"</span> <span class="na">QuantityShipped=</span><span class="s">"1"</span> <span class="na">GiftMessageText=</span><span class="s">""</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ItemPrice</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"5.16"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;ShippingPrice</span> <span class="na">CurrencyCode=</span><span class="s">""</span> <span class="na">Amount=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;GiftWrapPrice</span> <span class="na">CurrencyCode=</span><span class="s">""</span> <span class="na">Amount=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;ItemTax</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"0.00"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;ShippingTax</span> <span class="na">CurrencyCode=</span><span class="s">""</span> <span class="na">Amount=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;GiftWrapTax</span> <span class="na">CurrencyCode=</span><span class="s">""</span> <span class="na">Amount=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;ShippingDiscount</span> <span class="na">CurrencyCode=</span><span class="s">""</span> <span class="na">Amount=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PromotionDiscount</span> <span class="na">CurrencyCode=</span><span class="s">"GBP"</span> <span class="na">Amount=</span><span class="s">"0.00"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/OrderItem&gt;</span>
    <span class="nt">&lt;/OrderItems&gt;</span>
  <span class="nt">&lt;/Order&gt;</span>
<span class="nt">&lt;/Orders&gt;</span>
</code></pre>
</div>

<p>Sample output file with the mapping set to Amazon Orders -&gt; Zynk XML Sales Orders:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company</span> <span class="na">xmlns:zynk=</span><span class="s">"http://www.zynk.com"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;SalesOrders&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;Id&gt;</span>123-1234567-1234567<span class="nt">&lt;/Id&gt;</span>
      <span class="nt">&lt;CustomerId&gt;</span>123-1234567-1234567<span class="nt">&lt;/CustomerId&gt;</span>
      <span class="nt">&lt;AccountReference&gt;</span>AMAZON<span class="nt">&lt;/AccountReference&gt;</span>
      <span class="nt">&lt;SalesOrderNumber&gt;</span>123-1234567-1234567<span class="nt">&lt;/SalesOrderNumber&gt;</span>
      <span class="nt">&lt;CustomerOrderNumber&gt;</span>2123-1234567-1234567<span class="nt">&lt;/CustomerOrderNumber&gt;</span>
      <span class="nt">&lt;Currency&gt;</span>GBP<span class="nt">&lt;/Currency&gt;</span>
      <span class="nt">&lt;TakenBy&gt;</span>Amazon<span class="nt">&lt;/TakenBy&gt;</span>
      <span class="nt">&lt;VatInclusive&gt;</span>false<span class="nt">&lt;/VatInclusive&gt;</span>
      <span class="nt">&lt;SalesOrderDate&gt;</span>2013-01-13T18:46:35<span class="nt">&lt;/SalesOrderDate&gt;</span>
      <span class="nt">&lt;SalesOrderAddress&gt;</span>
        <span class="nt">&lt;Forename&gt;</span>Joe Bloggs<span class="nt">&lt;/Forename&gt;</span>
        <span class="nt">&lt;Company&gt;</span>Joe Bloggs<span class="nt">&lt;/Company&gt;</span>
        <span class="nt">&lt;Address1&gt;</span>Zynk Software<span class="nt">&lt;/Address1&gt;</span>
        <span class="nt">&lt;Address2&gt;</span>Nelson House<span class="nt">&lt;/Address2&gt;</span>
        <span class="nt">&lt;Address3&gt;</span>Jesmond<span class="nt">&lt;/Address3&gt;</span>
        <span class="nt">&lt;Town&gt;</span>Newcastle<span class="nt">&lt;/Town&gt;</span>
        <span class="nt">&lt;Postcode&gt;</span>NE2 3AE<span class="nt">&lt;/Postcode&gt;</span>
        <span class="nt">&lt;County&gt;</span>Tyne <span class="err">&amp;</span> Wear<span class="nt">&lt;/County&gt;</span>
        <span class="nt">&lt;Country&gt;</span>GB<span class="nt">&lt;/Country&gt;</span>
        <span class="nt">&lt;Telephone&gt;</span>08451232920<span class="nt">&lt;/Telephone&gt;</span>
      <span class="nt">&lt;/SalesOrderAddress&gt;</span>
      <span class="nt">&lt;SalesOrderDeliveryAddress&gt;</span>
        <span class="nt">&lt;Forename&gt;</span>Joe Bloggs<span class="nt">&lt;/Forename&gt;</span>
        <span class="nt">&lt;Company&gt;</span>Joe Bloggs<span class="nt">&lt;/Company&gt;</span>
        <span class="nt">&lt;Address1&gt;</span>Zynk Software<span class="nt">&lt;/Address1&gt;</span>
        <span class="nt">&lt;Address2&gt;</span>Nelson House<span class="nt">&lt;/Address2&gt;</span>
        <span class="nt">&lt;Address3&gt;</span>Jesmond<span class="nt">&lt;/Address3&gt;</span>
        <span class="nt">&lt;Town&gt;</span>Newcastle<span class="nt">&lt;/Town&gt;</span>
        <span class="nt">&lt;Postcode&gt;</span>NE2 3AE<span class="nt">&lt;/Postcode&gt;</span>
        <span class="nt">&lt;County&gt;</span>Tyne <span class="err">&amp;</span> Wear<span class="nt">&lt;/County&gt;</span>
        <span class="nt">&lt;Country&gt;</span>GB<span class="nt">&lt;/Country&gt;</span>
        <span class="nt">&lt;Telephone&gt;</span>08451232920<span class="nt">&lt;/Telephone&gt;</span>
      <span class="nt">&lt;/SalesOrderDeliveryAddress&gt;</span>
      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;Item&gt;</span>
          <span class="nt">&lt;Sku&gt;</span>LACO22103<span class="nt">&lt;/Sku&gt;</span>
          <span class="nt">&lt;Name&gt;</span>Laco Regular Soldering Flux 60g 22103<span class="nt">&lt;/Name&gt;</span>
          <span class="nt">&lt;QtyOrdered&gt;</span>1<span class="nt">&lt;/QtyOrdered&gt;</span>
          <span class="nt">&lt;UnitPrice&gt;</span>5.16<span class="nt">&lt;/UnitPrice&gt;</span>
        <span class="nt">&lt;/Item&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>
      <span class="nt">&lt;Carriage&gt;</span>
        <span class="nt">&lt;Sku&gt;</span>CARRIAGE<span class="nt">&lt;/Sku&gt;</span>
        <span class="nt">&lt;Name&gt;</span>Standard<span class="nt">&lt;/Name&gt;</span>
        <span class="nt">&lt;QtyOrdered&gt;</span>1<span class="nt">&lt;/QtyOrdered&gt;</span>
        <span class="nt">&lt;UnitPrice&gt;</span>0.00<span class="nt">&lt;/UnitPrice&gt;</span>
      <span class="nt">&lt;/Carriage&gt;</span>
    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/SalesOrders&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/workflow/docs/tree/master/_documentation/Zynk-Core-Connector/Auto-Mapper.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
