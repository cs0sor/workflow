<!DOCTYPE html>
<html lang="en">
<head>
    <title>Quickbooks Online Payment XML</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a>
    <ul>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>Quickbooks Online Payment XML</h1>
                    <p>The Upload Payments task allows you to create and update payments in QuickBooks. Any fields not documented below are not currently supported by our upload.</p>

<p>Sample import file for creating a basic payment:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;ArrayOfPayment</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;RecordOfPayment&gt;</span>
    <span class="nt">&lt;Data</span> <span class="na">domain=</span><span class="s">"QBO"</span> <span class="na">xmlns=</span><span class="s">"http://schema.intuit.com/finance/v3"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;CustomerRef</span> <span class="na">name=</span><span class="s">"Zynk Software"</span><span class="nt">&gt;&lt;/CustomerRef&gt;</span>
      <span class="nt">&lt;TotalAmt&gt;</span>50<span class="nt">&lt;/TotalAmt&gt;</span>
    <span class="nt">&lt;/Data&gt;</span>
  <span class="nt">&lt;/RecordOfPayment&gt;</span>
<span class="nt">&lt;/ArrayOfPayment&gt;</span>
</code></pre>
</div>

<p>In each of the following sections most of the XML has been omitted to make the samples easier to read, you will need to provide the above as a minimum to create a payment. The whole structure from the root element down is shown in the samples below as a reference of where elements should appear in the object model.</p>

<h2 id="payment-details">Payment Details</h2>

<table>
  <thead>
    <tr>
      <th> XML Field</th>
      <th>QuickBooks Field </th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length </th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Id</td>
      <td>-</td>
      <td>1234</td>
      <td>integer</td>
      <td>-</td>
      <td>Optional</td>
      <td>Used for matching to existing payments.</td>
    </tr>
    <tr>
      <td>ExternalId</td>
      <td>-</td>
      <td>6492</td>
      <td>string</td>
      <td>255</td>
      <td>Optional</td>
      <td>Used for matching to existing payments. The value provided will be stored in Zynk’s truth table, and used to lookup the Id of the customer.</td>
    </tr>
    <tr>
      <td>CustomerRef</td>
      <td>Customer</td>
      <td>1</td>
      <td>integer</td>
      <td>-</td>
      <td>Required</td>
      <td>If you don’t know the customer ID, you can specify their display name using the name attribute, and the task will perform a lookup.</td>
    </tr>
    <tr>
      <td>TxnDate</td>
      <td>Payment Date</td>
      <td>2016-07-15</td>
      <td>date</td>
      <td>-</td>
      <td>Optional</td>
      <td>Defaults to the current date if not specified.</td>
    </tr>
    <tr>
      <td>PaymentMethodRef</td>
      <td>Payment Method</td>
      <td>1</td>
      <td>integer</td>
      <td>-</td>
      <td>Optional</td>
      <td>If you don’t know the payment method ID, you can specify the name using the name attribute, and the task will perform a lookup.</td>
    </tr>
    <tr>
      <td>PaymentRefNum</td>
      <td>Reference No.</td>
      <td>PC3452DX</td>
      <td>string</td>
      <td>21</td>
      <td>Optional</td>
      <td> </td>
    </tr>
    <tr>
      <td>DepositToAccountRef</td>
      <td>Deposit To</td>
      <td>1</td>
      <td>integer</td>
      <td>-</td>
      <td>Optional</td>
      <td>If you don’t know the account ID, you can specify the name using the name attribute, and the task will perform a lookup. The chosen account must have type ‘Other Current Asset’ or ‘Bank’. Defaults to the undeposited funds account if not specified.</td>
    </tr>
    <tr>
      <td>TotalAmt</td>
      <td>Amount Received</td>
      <td>50</td>
      <td>decimal</td>
      <td>-</td>
      <td>Required</td>
      <td> </td>
    </tr>
    <tr>
      <td>ExchangeRate</td>
      <td>-</td>
      <td>1.25</td>
      <td>decimal</td>
      <td>-</td>
      <td>Optional</td>
      <td>Defaults to 1 if not specified.</td>
    </tr>
    <tr>
      <td>PrivateNote</td>
      <td>Memo</td>
      <td>Sample memo</td>
      <td>string</td>
      <td>4000</td>
      <td>Optional</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;ArrayOfPayment</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;RecordOfPayment&gt;</span>
    <span class="nt">&lt;ExternalId&gt;</span>1234<span class="nt">&lt;/ExternalId&gt;</span>
    <span class="nt">&lt;Data</span> <span class="na">domain=</span><span class="s">"QBO"</span> <span class="na">xmlns=</span><span class="s">"http://schema.intuit.com/finance/v3"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Id&gt;</span>1234<span class="nt">&lt;/Id&gt;</span>
      <span class="nt">&lt;CustomerRef</span> <span class="na">name=</span><span class="s">"Zynk Software"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/CustomerRef&gt;</span>
      <span class="nt">&lt;TxnDate&gt;</span>2016-07-15<span class="nt">&lt;/TxnDate&gt;</span>
      <span class="nt">&lt;PaymentMethodRef</span> <span class="na">name=</span><span class="s">"Card"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/PaymentMethodRef&gt;</span>
      <span class="nt">&lt;PaymentRefNum&gt;</span>PC3452DX<span class="nt">&lt;/PaymentRefNum&gt;</span>
      <span class="nt">&lt;DepositToAccountRef</span> <span class="na">name=</span><span class="s">"Current"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/DepositToAccountRef&gt;</span>
      <span class="nt">&lt;TotalAmt&gt;</span>50<span class="nt">&lt;/TotalAmt&gt;</span>
      <span class="nt">&lt;ExchangeRate&gt;</span>1<span class="nt">&lt;/ExchangeRate&gt;</span>
      <span class="nt">&lt;PrivateNote&gt;</span>Sample memo<span class="nt">&lt;/PrivateNote&gt;</span>
    <span class="nt">&lt;/Data&gt;</span>
  <span class="nt">&lt;/RecordOfPayment&gt;</span>
<span class="nt">&lt;/ArrayOfPayment&gt;</span>
</code></pre>
</div>

<h2 id="payment-lines">Payment Lines</h2>
<p>You can optionally provide a one or more lines, which represent the outstanding transactions you want to link the payment to. If you don’t provide any lines, the payment will automatically be linked to the oldest outstanding transaction(s).</p>

<table>
  <thead>
    <tr>
      <th> XML Field</th>
      <th>QuickBooks Field </th>
      <th>Example</th>
      <th>Field Type</th>
      <th>Field Length </th>
      <th>Input</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Amount</td>
      <td>Payment</td>
      <td>50</td>
      <td>integer</td>
      <td>-</td>
      <td>Required</td>
      <td> </td>
    </tr>
    <tr>
      <td>LinkedTxn &gt; TxnId</td>
      <td>Description</td>
      <td>1</td>
      <td>string</td>
      <td>15</td>
      <td>Dependant</td>
      <td>Required if TxnLineId is specified. Used in conjuction with TxnType to specify the transaction the payment is to be linked to.</td>
    </tr>
    <tr>
      <td>LinkedTxn &gt; TxnType</td>
      <td>Description</td>
      <td>Invoice</td>
      <td>enum</td>
      <td>-</td>
      <td>Dependant</td>
      <td>Required if TxnLineId is specified. Used in conjuction with TxnId to specify the transaction the payment is to be linked to. Allowed values are Invoice, CreditMemo, JournalEntry, CreditCardCredit, Check and Expense.</td>
    </tr>
    <tr>
      <td>LinkedTxn &gt; TxnLineId</td>
      <td>-</td>
      <td>1</td>
      <td>string</td>
      <td>15</td>
      <td>Optional</td>
      <td>The line number of a specific line of the linked transaction.</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;ArrayOfPayment</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;RecordOfPayment&gt;</span>
    <span class="nt">&lt;Data</span> <span class="na">domain=</span><span class="s">"QBO"</span> <span class="na">sparse=</span><span class="s">"false"</span> <span class="na">xmlns=</span><span class="s">"http://schema.intuit.com/finance/v3"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Line&gt;</span>
        <span class="nt">&lt;Amount&gt;</span>50<span class="nt">&lt;/Amount&gt;</span>
        <span class="nt">&lt;LinkedTxn&gt;</span>
          <span class="nt">&lt;TxnId&gt;</span>1<span class="nt">&lt;/TxnId&gt;</span>
          <span class="nt">&lt;TxnType&gt;</span>Invoice<span class="nt">&lt;/TxnType&gt;</span>
          <span class="nt">&lt;TxnLineId&gt;</span>1<span class="nt">&lt;/TxnLineId&gt;</span>
        <span class="nt">&lt;/LinkedTxn&gt;</span>
      <span class="nt">&lt;/Line&gt;</span>
    <span class="nt">&lt;/Data&gt;</span>
  <span class="nt">&lt;/RecordOfPayment&gt;</span>
<span class="nt">&lt;/ArrayOfPayment&gt;</span>
</code></pre>
</div>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/workflow/docs/tree/master/_documentation/Quickbooks-Online-Connector/Quickbooks-Online-Payment-XML.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
