<!DOCTYPE html>
<html lang="en">
<head>
    <title>Downloading Orders from Magento</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a>
    <ul>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>Downloading Orders from Magento</h1>
                    <p>This task will download orders from Magento in XML format. You can choose to only download orders created/updated since the last time the task was run, or select certain orders based on a filter (such as those with the status ‘Processing’). See below for a sample output file.</p>

<h2 id="settings">Settings</h2>
<h3 id="connection">Connection</h3>
<p><em>Required</em><br />
The Magento connection to use. See the <a href="connecting-to-magento">Connecting to Magento</a> article if you require more information on how to create/manage connections.</p>

<h3 id="download-all">Download All</h3>
<p><em>Required</em><br />
Set to true to download all records (which match the filter if one is specified), or false to download only new/modified orders.</p>

<h3 id="download-from">Download From</h3>
<p><em>Optional</em><br />
The date to download new/modified orders from. Updates automatically each time the task runs.</p>

<h3 id="start-date">Start Date</h3>
<p><em>Optional</em><br />
No orders created before this date will be downloaded, even if they are modified.</p>

<h3 id="output-file">Output File</h3>
<p><em>Required</em><br />
The name of the file to export the orders to.</p>

<h3 id="filter-property">Filter Property</h3>
<p><em>Optional</em><br />
The property the filter is to be based upon. The property name should match the API field name, as seen in the output file.</p>

<h3 id="filter-type">Filter Type</h3>
<p><em>Optional</em><br />
The following types of filter are available:</p>

<ul>
  <li><strong>eq</strong> - Returns records where the property matches the specified value</li>
  <li><strong>gt</strong> - Returns records where the property is greater than the specified value</li>
  <li><strong>lt</strong> - Returns records where the property is less than the specified value.</li>
  <li><strong>like</strong> - Returns records where the property contains the specified value.</li>
  <li><strong>isnull</strong> - Returns records where the property is null.</li>
  <li><strong>notnull</strong> - Returns records where the property is not null.</li>
</ul>

<h3 id="filter-value">Filter Value</h3>
<p><em>Optional</em><br />
The value the filter is to be based upon. When using the eq filter type, you can specify multiple values by separating them with commas, or using the ‘Use a list’ option after clicking the ellipsis (…) button.</p>

<h3 id="download-stage">Download Stage</h3>
<p><em>Optional</em><br />
Set the status of the orders to be downloaded (e.g. pending, processing, complete). Multiple statuses can be entered by separating them with commas, or using the ‘Use a list’ option after clicking the ellipsis (…) button.</p>

<h3 id="zynk-settings">Zynk Settings</h3>
<p>See <a href="common-task-settings">Common Task Settings</a>.</p>

<h2 id="examples">Examples</h2>
<p>Sample output file:</p>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;ArrayOfOrderInfo&gt;</span>
  <span class="nt">&lt;OrderInfo&gt;</span>
    <span class="nt">&lt;shipping_address&gt;</span>
      <span class="nt">&lt;city&gt;</span>Newcastle<span class="nt">&lt;/city&gt;</span>
      <span class="nt">&lt;address_type&gt;</span>shipping<span class="nt">&lt;/address_type&gt;</span>
      <span class="nt">&lt;firstname&gt;</span>Andrew<span class="nt">&lt;/firstname&gt;</span>
      <span class="nt">&lt;lastname&gt;</span>Snape<span class="nt">&lt;/lastname&gt;</span>
      <span class="nt">&lt;company&gt;</span>Internetware<span class="nt">&lt;/company&gt;</span>
      <span class="nt">&lt;street&gt;</span>Newcastle Business Centre 6 Charlotte Square<span class="nt">&lt;/street&gt;</span>
      <span class="nt">&lt;region&gt;</span>Tyne and Wear<span class="nt">&lt;/region&gt;</span>
      <span class="nt">&lt;postcode&gt;</span>NE1 4XF<span class="nt">&lt;/postcode&gt;</span>
      <span class="nt">&lt;country_id&gt;</span>GB<span class="nt">&lt;/country_id&gt;</span>
      <span class="nt">&lt;telephone&gt;</span>XXXXX XXX XXX<span class="nt">&lt;/telephone&gt;</span>
      <span class="nt">&lt;fax</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;address_id&gt;</span>6<span class="nt">&lt;/address_id&gt;</span>
      <span class="nt">&lt;parent_id&gt;</span>3<span class="nt">&lt;/parent_id&gt;</span>
    <span class="nt">&lt;/shipping_address&gt;</span>
    <span class="nt">&lt;billing_address&gt;</span>
      <span class="nt">&lt;city&gt;</span>Newcastle<span class="nt">&lt;/city&gt;</span>
      <span class="nt">&lt;address_type&gt;</span>billing<span class="nt">&lt;/address_type&gt;</span>
      <span class="nt">&lt;firstname&gt;</span>Andrew<span class="nt">&lt;/firstname&gt;</span>
      <span class="nt">&lt;lastname&gt;</span>Snape<span class="nt">&lt;/lastname&gt;</span>
      <span class="nt">&lt;company&gt;</span>Internetware<span class="nt">&lt;/company&gt;</span>
      <span class="nt">&lt;street&gt;</span>Newcastle Business Centre 6 Charlotte Square<span class="nt">&lt;/street&gt;</span>
      <span class="nt">&lt;region&gt;</span>Tyne and Wear<span class="nt">&lt;/region&gt;</span>
      <span class="nt">&lt;postcode&gt;</span>NE1 4XF<span class="nt">&lt;/postcode&gt;</span>
      <span class="nt">&lt;country_id&gt;</span>GB<span class="nt">&lt;/country_id&gt;</span>
      <span class="nt">&lt;telephone&gt;</span>XXXXX XXX XXX<span class="nt">&lt;/telephone&gt;</span>
      <span class="nt">&lt;fax</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;address_id&gt;</span>5<span class="nt">&lt;/address_id&gt;</span>
      <span class="nt">&lt;parent_id&gt;</span>3<span class="nt">&lt;/parent_id&gt;</span>
    <span class="nt">&lt;/billing_address&gt;</span>
    <span class="nt">&lt;items&gt;</span>
      <span class="nt">&lt;OrderProduct&gt;</span>
        <span class="nt">&lt;created_at&gt;</span>2011-08-02 13:46:26<span class="nt">&lt;/created_at&gt;</span>
        <span class="nt">&lt;updated_at&gt;</span>2011-08-17 11:56:27<span class="nt">&lt;/updated_at&gt;</span>
        <span class="nt">&lt;product_id&gt;</span>162<span class="nt">&lt;/product_id&gt;</span>
        <span class="nt">&lt;gift_message_available&gt;</span>2<span class="nt">&lt;/gift_message_available&gt;</span>
        <span class="nt">&lt;sku&gt;</span>micronmouse5000<span class="nt">&lt;/sku&gt;</span>
        <span class="nt">&lt;name&gt;</span>Microsoft Wireless Optical Mouse 5000<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;weight&gt;</span>1.0000<span class="nt">&lt;/weight&gt;</span>
        <span class="nt">&lt;price&gt;</span>59.9900<span class="nt">&lt;/price&gt;</span>
        <span class="nt">&lt;order_id&gt;</span>3<span class="nt">&lt;/order_id&gt;</span>
        <span class="nt">&lt;quote_item_id&gt;</span>4<span class="nt">&lt;/quote_item_id&gt;</span>
        <span class="nt">&lt;product_type&gt;</span>simple<span class="nt">&lt;/product_type&gt;</span>
        <span class="nt">&lt;product_options&gt;</span>a:5:{s:15:"info_buyRequest";a:2:{s:3:"qty";i:1;s:7:"options";a:0:{}s:17:"giftcard_lifetime";N;s:22:"giftcard_is_redeemable";i:0;s:23:"giftcard_email_template";N;s:13:"giftcard_type";N;}<span class="nt">&lt;/product_options&gt;</span>
        <span class="nt">&lt;is_virtual&gt;</span>0<span class="nt">&lt;/is_virtual&gt;</span>
        <span class="nt">&lt;applied_rule_ids</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;free_shipping&gt;</span>0<span class="nt">&lt;/free_shipping&gt;</span>
        <span class="nt">&lt;is_qty_decimal&gt;</span>0<span class="nt">&lt;/is_qty_decimal&gt;</span>
        <span class="nt">&lt;no_discount&gt;</span>0<span class="nt">&lt;/no_discount&gt;</span>
        <span class="nt">&lt;qty_canceled&gt;</span>0.0000<span class="nt">&lt;/qty_canceled&gt;</span>
        <span class="nt">&lt;qty_invoiced&gt;</span>0.0000<span class="nt">&lt;/qty_invoiced&gt;</span>
        <span class="nt">&lt;qty_ordered&gt;</span>1.0000<span class="nt">&lt;/qty_ordered&gt;</span>
        <span class="nt">&lt;qty_refunded&gt;</span>0.0000<span class="nt">&lt;/qty_refunded&gt;</span>
        <span class="nt">&lt;qty_shipped&gt;</span>0.0000<span class="nt">&lt;/qty_shipped&gt;</span>
        <span class="nt">&lt;base_price&gt;</span>59.9900<span class="nt">&lt;/base_price&gt;</span>
        <span class="nt">&lt;original_price&gt;</span>59.9900<span class="nt">&lt;/original_price&gt;</span>
        <span class="nt">&lt;base_original_price&gt;</span>59.9900<span class="nt">&lt;/base_original_price&gt;</span>
        <span class="nt">&lt;tax_percent&gt;</span>20.0000<span class="nt">&lt;/tax_percent&gt;</span>
        <span class="nt">&lt;tax_amount&gt;</span>12.0000<span class="nt">&lt;/tax_amount&gt;</span>
        <span class="nt">&lt;base_tax_amount&gt;</span>12.0000<span class="nt">&lt;/base_tax_amount&gt;</span>
        <span class="nt">&lt;tax_invoiced&gt;</span>0.0000<span class="nt">&lt;/tax_invoiced&gt;</span>
        <span class="nt">&lt;base_tax_invoiced&gt;</span>0.0000<span class="nt">&lt;/base_tax_invoiced&gt;</span>
        <span class="nt">&lt;discount_percent&gt;</span>0.0000<span class="nt">&lt;/discount_percent&gt;</span>
        <span class="nt">&lt;discount_amount&gt;</span>0.0000<span class="nt">&lt;/discount_amount&gt;</span>
        <span class="nt">&lt;base_discount_amount&gt;</span>0.0000<span class="nt">&lt;/base_discount_amount&gt;</span>
        <span class="nt">&lt;discount_invoiced&gt;</span>0.0000<span class="nt">&lt;/discount_invoiced&gt;</span>
        <span class="nt">&lt;base_discount_invoiced&gt;</span>0.0000<span class="nt">&lt;/base_discount_invoiced&gt;</span>
        <span class="nt">&lt;amount_refunded&gt;</span>0.0000<span class="nt">&lt;/amount_refunded&gt;</span>
        <span class="nt">&lt;base_amount_refunded&gt;</span>0.0000<span class="nt">&lt;/base_amount_refunded&gt;</span>
        <span class="nt">&lt;row_total&gt;</span>59.9900<span class="nt">&lt;/row_total&gt;</span>
        <span class="nt">&lt;base_row_total&gt;</span>59.9900<span class="nt">&lt;/base_row_total&gt;</span>
        <span class="nt">&lt;row_invoiced&gt;</span>0.0000<span class="nt">&lt;/row_invoiced&gt;</span>
        <span class="nt">&lt;base_row_invoiced&gt;</span>0.0000<span class="nt">&lt;/base_row_invoiced&gt;</span>
        <span class="nt">&lt;row_weight&gt;</span>1.0000<span class="nt">&lt;/row_weight&gt;</span>
        <span class="nt">&lt;weee_tax_applied&gt;</span>a:0:{}<span class="nt">&lt;/weee_tax_applied&gt;</span>
        <span class="nt">&lt;weee_tax_applied_amount&gt;</span>0.0000<span class="nt">&lt;/weee_tax_applied_amount&gt;</span>
        <span class="nt">&lt;weee_tax_applied_row_amount&gt;</span>0.0000<span class="nt">&lt;/weee_tax_applied_row_amount&gt;</span>
        <span class="nt">&lt;base_weee_tax_applied_amount&gt;</span>0.0000<span class="nt">&lt;/base_weee_tax_applied_amount&gt;</span>
        <span class="nt">&lt;base_weee_tax_applied_row_amount&gt;</span>0.0000<span class="nt">&lt;/base_weee_tax_applied_row_amount&gt;</span>
        <span class="nt">&lt;weee_tax_disposition&gt;</span>0.0000<span class="nt">&lt;/weee_tax_disposition&gt;</span>
        <span class="nt">&lt;weee_tax_row_disposition&gt;</span>0.0000<span class="nt">&lt;/weee_tax_row_disposition&gt;</span>
        <span class="nt">&lt;base_weee_tax_disposition&gt;</span>0.0000<span class="nt">&lt;/base_weee_tax_disposition&gt;</span>
        <span class="nt">&lt;base_weee_tax_row_disposition&gt;</span>0.0000<span class="nt">&lt;/base_weee_tax_row_disposition&gt;</span>
        <span class="nt">&lt;has_children&gt;</span>false<span class="nt">&lt;/has_children&gt;</span>
      <span class="nt">&lt;/OrderProduct&gt;</span>
    <span class="nt">&lt;/items&gt;</span>
    <span class="nt">&lt;payment&gt;</span>
      <span class="nt">&lt;parent_id&gt;</span>3<span class="nt">&lt;/parent_id&gt;</span>
      <span class="nt">&lt;amount_ordered&gt;</span>77.9900<span class="nt">&lt;/amount_ordered&gt;</span>
      <span class="nt">&lt;base_amount_ordered&gt;</span>77.9900<span class="nt">&lt;/base_amount_ordered&gt;</span>
      <span class="nt">&lt;shipping_amount&gt;</span>5.0000<span class="nt">&lt;/shipping_amount&gt;</span>
      <span class="nt">&lt;base_shipping_amount&gt;</span>5.0000<span class="nt">&lt;/base_shipping_amount&gt;</span>
      <span class="nt">&lt;cc_exp_month&gt;</span>0<span class="nt">&lt;/cc_exp_month&gt;</span>
      <span class="nt">&lt;cc_exp_year&gt;</span>0<span class="nt">&lt;/cc_exp_year&gt;</span>
      <span class="nt">&lt;method&gt;</span>checkmo<span class="nt">&lt;/method&gt;</span>
      <span class="nt">&lt;po_number</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;cc_type</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;cc_number_enc</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;cc_last4</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;cc_owner</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;cc_ss_start_month&gt;</span>0<span class="nt">&lt;/cc_ss_start_month&gt;</span>
      <span class="nt">&lt;cc_ss_start_year&gt;</span>0<span class="nt">&lt;/cc_ss_start_year&gt;</span>
      <span class="nt">&lt;payment_id&gt;</span>3<span class="nt">&lt;/payment_id&gt;</span>
    <span class="nt">&lt;/payment&gt;</span>
    <span class="nt">&lt;status_history&gt;</span>
      <span class="nt">&lt;OrderStatus&gt;</span>
        <span class="nt">&lt;parent_id&gt;</span>3<span class="nt">&lt;/parent_id&gt;</span>
        <span class="nt">&lt;store_id&gt;</span>1<span class="nt">&lt;/store_id&gt;</span>
        <span class="nt">&lt;created_at&gt;</span>2011-08-02 13:46:26<span class="nt">&lt;/created_at&gt;</span>
        <span class="nt">&lt;comment</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;is_customer_notified&gt;</span>0<span class="nt">&lt;/is_customer_notified&gt;</span>
        <span class="nt">&lt;status&gt;</span>pending<span class="nt">&lt;/status&gt;</span>
      <span class="nt">&lt;/OrderStatus&gt;</span>
    <span class="nt">&lt;/status_history&gt;</span>
    <span class="nt">&lt;increment_id&gt;</span>100000003<span class="nt">&lt;/increment_id&gt;</span>
    <span class="nt">&lt;store_id&gt;</span>1<span class="nt">&lt;/store_id&gt;</span>
    <span class="nt">&lt;created_at&gt;</span>2011-08-02 13:46:26<span class="nt">&lt;/created_at&gt;</span>
    <span class="nt">&lt;updated_at&gt;</span>2011-08-17 11:56:27<span class="nt">&lt;/updated_at&gt;</span>
    <span class="nt">&lt;customer_id&gt;</span>2<span class="nt">&lt;/customer_id&gt;</span>
    <span class="nt">&lt;tax_amount&gt;</span>13.0000<span class="nt">&lt;/tax_amount&gt;</span>
    <span class="nt">&lt;shipping_amount&gt;</span>5.0000<span class="nt">&lt;/shipping_amount&gt;</span>
    <span class="nt">&lt;discount_amount&gt;</span>0.0000<span class="nt">&lt;/discount_amount&gt;</span>
    <span class="nt">&lt;subtotal&gt;</span>59.9900<span class="nt">&lt;/subtotal&gt;</span>
    <span class="nt">&lt;grand_total&gt;</span>77.9900<span class="nt">&lt;/grand_total&gt;</span>
    <span class="nt">&lt;total_qty_ordered&gt;</span>1.0000<span class="nt">&lt;/total_qty_ordered&gt;</span>
    <span class="nt">&lt;base_tax_amount&gt;</span>13.0000<span class="nt">&lt;/base_tax_amount&gt;</span>
    <span class="nt">&lt;base_shipping_amount&gt;</span>5.0000<span class="nt">&lt;/base_shipping_amount&gt;</span>
    <span class="nt">&lt;base_discount_amount&gt;</span>0.0000<span class="nt">&lt;/base_discount_amount&gt;</span>
    <span class="nt">&lt;base_subtotal&gt;</span>59.9900<span class="nt">&lt;/base_subtotal&gt;</span>
    <span class="nt">&lt;base_grand_total&gt;</span>77.9900<span class="nt">&lt;/base_grand_total&gt;</span>
    <span class="nt">&lt;shipping_tax_amount&gt;</span>1.0000<span class="nt">&lt;/shipping_tax_amount&gt;</span>
    <span class="nt">&lt;base_shipping_tax_amount&gt;</span>1.0000<span class="nt">&lt;/base_shipping_tax_amount&gt;</span>
    <span class="nt">&lt;weight&gt;</span>1.0000<span class="nt">&lt;/weight&gt;</span>
    <span class="nt">&lt;store_to_base_rate&gt;</span>1.0000<span class="nt">&lt;/store_to_base_rate&gt;</span>
    <span class="nt">&lt;store_to_order_rate&gt;</span>1.0000<span class="nt">&lt;/store_to_order_rate&gt;</span>
    <span class="nt">&lt;base_to_global_rate&gt;</span>1.0000<span class="nt">&lt;/base_to_global_rate&gt;</span>
    <span class="nt">&lt;base_to_order_rate&gt;</span>1.0000<span class="nt">&lt;/base_to_order_rate&gt;</span>
    <span class="nt">&lt;shipping_description&gt;</span>Flat Rate - Fixed<span class="nt">&lt;/shipping_description&gt;</span>
    <span class="nt">&lt;shipping_method&gt;</span>flatrate_flatrate<span class="nt">&lt;/shipping_method&gt;</span>
    <span class="nt">&lt;status&gt;</span>pending<span class="nt">&lt;/status&gt;</span>
    <span class="nt">&lt;base_currency_code&gt;</span>GBP<span class="nt">&lt;/base_currency_code&gt;</span>
    <span class="nt">&lt;store_currency_code&gt;</span>GBP<span class="nt">&lt;/store_currency_code&gt;</span>
    <span class="nt">&lt;order_currency_code&gt;</span>GBP<span class="nt">&lt;/order_currency_code&gt;</span>
    <span class="nt">&lt;applied_rule_ids</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;customer_email&gt;</span>support@zynk.com<span class="nt">&lt;/customer_email&gt;</span>
    <span class="nt">&lt;state&gt;</span>new<span class="nt">&lt;/state&gt;</span>
    <span class="nt">&lt;store_name&gt;</span>Main Website     Main Store     English<span class="nt">&lt;/store_name&gt;</span>
    <span class="nt">&lt;global_currency_code&gt;</span>GBP<span class="nt">&lt;/global_currency_code&gt;</span>
    <span class="nt">&lt;quote_id&gt;</span>7<span class="nt">&lt;/quote_id&gt;</span>
    <span class="nt">&lt;shipping_address_id&gt;</span>6<span class="nt">&lt;/shipping_address_id&gt;</span>
    <span class="nt">&lt;billing_address_id&gt;</span>5<span class="nt">&lt;/billing_address_id&gt;</span>
    <span class="nt">&lt;is_virtual&gt;</span>0<span class="nt">&lt;/is_virtual&gt;</span>
    <span class="nt">&lt;customer_group_id&gt;</span>1<span class="nt">&lt;/customer_group_id&gt;</span>
    <span class="nt">&lt;customer_note_notify&gt;</span>0<span class="nt">&lt;/customer_note_notify&gt;</span>
    <span class="nt">&lt;customer_is_guest&gt;</span>0<span class="nt">&lt;/customer_is_guest&gt;</span>
    <span class="nt">&lt;order_id&gt;</span>3<span class="nt">&lt;/order_id&gt;</span>
  <span class="nt">&lt;/OrderInfo&gt;</span>
<span class="nt">&lt;/ArrayOfOrderInfo&gt;</span>
</code></pre>
</div>

<p>Sample XSLT file to use to transform the output file from this task to the Zynk XML Sales Orders format, ready for import into Sage. This is also available in the <a href="auto-mapper">Auto Mapper</a>.</p>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;xsl:stylesheet</span> 
  <span class="na">version=</span><span class="s">"1.0"</span>
  <span class="na">xmlns:xsl=</span><span class="s">"http://www.w3.org/1999/XSL/Transform"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;xsl:output</span> <span class="na">method=</span><span class="s">"xml"</span> <span class="na">indent=</span><span class="s">"yes"</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;xsl:param</span> <span class="na">name=</span><span class="s">"AccountReference"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;xsl:param</span> <span class="na">name=</span><span class="s">"BankAccount"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;xsl:param</span> <span class="na">name=</span><span class="s">"TaxCode"</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;xsl:variable</span> <span class="na">name=</span><span class="s">"br"</span><span class="nt">&gt;&lt;xsl:text&gt;</span><span class="ni">&amp;#10;</span><span class="nt">&lt;/xsl:text&gt;&lt;/xsl:variable&gt;</span>
  <span class="nt">&lt;xsl:variable</span> <span class="na">name=</span><span class="s">"comma"</span><span class="nt">&gt;&lt;xsl:text&gt;</span>, <span class="nt">&lt;/xsl:text&gt;&lt;/xsl:variable&gt;</span>

  <span class="nt">&lt;xsl:template</span> <span class="na">match=</span><span class="s">"ArrayOfOrderInfo"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Company&gt;</span>
      <span class="nt">&lt;SalesOrders&gt;</span>
        <span class="nt">&lt;xsl:for-each</span> <span class="na">select=</span><span class="s">"OrderInfo"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">"SalesOrder"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/xsl:for-each&gt;</span>
      <span class="nt">&lt;/SalesOrders&gt;</span>
    <span class="nt">&lt;/Company&gt;</span>
  <span class="nt">&lt;/xsl:template&gt;</span>

  <span class="nt">&lt;xsl:template</span> <span class="na">name=</span><span class="s">"SalesOrder"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;SalesOrder&gt;</span>
      <span class="nt">&lt;Id&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"order_id"</span><span class="nt">/&gt;&lt;/Id&gt;</span>
      <span class="nt">&lt;CustomerId&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"customer_id"</span><span class="nt">/&gt;&lt;/CustomerId&gt;</span>
      <span class="nt">&lt;AccountReference&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"$AccountReference"</span><span class="nt">/&gt;&lt;/AccountReference&gt;</span>
      <span class="nt">&lt;SalesOrderNumber&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"increment_id"</span><span class="nt">/&gt;&lt;/SalesOrderNumber&gt;</span>
      <span class="nt">&lt;CustomerOrderNumber&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"increment_id"</span><span class="nt">/&gt;&lt;/CustomerOrderNumber&gt;</span>
      <span class="nt">&lt;SalesOrderDate&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"substring-before(created_at, ' ')"</span><span class="nt">/&gt;</span>T<span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"substring-after(created_at, ' ')"</span><span class="nt">/&gt;&lt;/SalesOrderDate&gt;</span>

      <span class="nt">&lt;SalesOrderAddress&gt;</span>
        <span class="c">&lt;!--&lt;Title&gt;&lt;xsl:value-of select="billing_address/firstname"/&gt;&lt;/Title&gt;--&gt;</span>
        <span class="nt">&lt;Forename&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/firstname"</span><span class="nt">/&gt;&lt;/Forename&gt;</span>
        <span class="nt">&lt;Surname&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/lastname"</span><span class="nt">/&gt;&lt;/Surname&gt;</span>
        <span class="nt">&lt;Company&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/company"</span><span class="nt">/&gt;&lt;/Company&gt;</span>

        <span class="nt">&lt;xsl:choose&gt;</span>
          <span class="nt">&lt;xsl:when</span> <span class="na">test=</span><span class="s">"contains(billing_address/street, $br)"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Address1&gt;</span>
              <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"substring-before(billing_address/street, $br)"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/Address1&gt;</span>
            <span class="nt">&lt;Address2&gt;</span>
              <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">"string-replace-all"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">"text"</span> <span class="na">select=</span><span class="s">"substring-after(billing_address/street, $br)"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">"replace"</span> <span class="na">select=</span><span class="s">"$br"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">"by"</span> <span class="na">select=</span><span class="s">"$comma"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/xsl:call-template&gt;</span>
            <span class="nt">&lt;/Address2&gt;</span>
          <span class="nt">&lt;/xsl:when&gt;</span>
          <span class="nt">&lt;xsl:otherwise&gt;</span>
            <span class="nt">&lt;Address1&gt;</span>
              <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/street"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/Address1&gt;</span>
          <span class="nt">&lt;/xsl:otherwise&gt;</span>
        <span class="nt">&lt;/xsl:choose&gt;</span>

        <span class="nt">&lt;Town&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/city"</span><span class="nt">/&gt;&lt;/Town&gt;</span>
        <span class="nt">&lt;Postcode&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/postcode"</span><span class="nt">/&gt;&lt;/Postcode&gt;</span>
        <span class="nt">&lt;County&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/region"</span><span class="nt">/&gt;&lt;/County&gt;</span>
        <span class="nt">&lt;Country&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/country_id"</span><span class="nt">/&gt;&lt;/Country&gt;</span>
        <span class="nt">&lt;Telephone&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/telephone"</span><span class="nt">/&gt;&lt;/Telephone&gt;</span>
        <span class="nt">&lt;Fax&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"billing_address/fax"</span><span class="nt">/&gt;&lt;/Fax&gt;</span>
        <span class="nt">&lt;Email&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"customer_email"</span><span class="nt">/&gt;&lt;/Email&gt;</span>
      <span class="nt">&lt;/SalesOrderAddress&gt;</span>

      <span class="nt">&lt;SalesOrderDeliveryAddress&gt;</span>
        <span class="c">&lt;!--&lt;Title&gt;&lt;xsl:value-of select="shipping_address/firstname"/&gt;&lt;/Title&gt;--&gt;</span>
        <span class="nt">&lt;Forename&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/firstname"</span><span class="nt">/&gt;&lt;/Forename&gt;</span>
        <span class="nt">&lt;Surname&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/lastname"</span><span class="nt">/&gt;&lt;/Surname&gt;</span>
        <span class="nt">&lt;Company&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/company"</span><span class="nt">/&gt;&lt;/Company&gt;</span>

        <span class="nt">&lt;xsl:choose&gt;</span>
          <span class="nt">&lt;xsl:when</span> <span class="na">test=</span><span class="s">"contains(shipping_address/street, $br)"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Address1&gt;</span>
              <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"substring-before(shipping_address/street, $br)"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/Address1&gt;</span>
            <span class="nt">&lt;Address2&gt;</span>
              <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">"string-replace-all"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">"text"</span> <span class="na">select=</span><span class="s">"substring-after(shipping_address/street, $br)"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">"replace"</span> <span class="na">select=</span><span class="s">"$br"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">"by"</span> <span class="na">select=</span><span class="s">"$comma"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/xsl:call-template&gt;</span>
            <span class="nt">&lt;/Address2&gt;</span>
          <span class="nt">&lt;/xsl:when&gt;</span>
          <span class="nt">&lt;xsl:otherwise&gt;</span>
            <span class="nt">&lt;Address1&gt;</span>
              <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/street"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/Address1&gt;</span>
          <span class="nt">&lt;/xsl:otherwise&gt;</span>
        <span class="nt">&lt;/xsl:choose&gt;</span>

        <span class="nt">&lt;Town&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/city"</span><span class="nt">/&gt;&lt;/Town&gt;</span>
        <span class="nt">&lt;Postcode&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/postcode"</span><span class="nt">/&gt;&lt;/Postcode&gt;</span>
        <span class="nt">&lt;County&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/region"</span><span class="nt">/&gt;&lt;/County&gt;</span>
        <span class="nt">&lt;Country&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/country_id"</span><span class="nt">/&gt;&lt;/Country&gt;</span>
        <span class="nt">&lt;Telephone&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/telephone"</span><span class="nt">/&gt;&lt;/Telephone&gt;</span>
        <span class="nt">&lt;Fax&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_address/fax"</span><span class="nt">/&gt;&lt;/Fax&gt;</span>
        <span class="nt">&lt;Email&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"customer_email"</span><span class="nt">/&gt;&lt;/Email&gt;</span>
      <span class="nt">&lt;/SalesOrderDeliveryAddress&gt;</span>

      <span class="nt">&lt;SalesOrderItems&gt;</span>
        <span class="nt">&lt;xsl:for-each</span> <span class="na">select=</span><span class="s">"items/OrderProduct"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">"Item"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/xsl:for-each&gt;</span>
      <span class="nt">&lt;/SalesOrderItems&gt;</span>

      <span class="nt">&lt;Carriage&gt;</span>
        <span class="nt">&lt;Sku&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_method"</span> <span class="nt">/&gt;&lt;/Sku&gt;</span>
        <span class="nt">&lt;Name&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"name"</span> <span class="nt">/&gt;&lt;/Name&gt;</span>
        <span class="nt">&lt;QtyOrdered&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"1"</span> <span class="nt">/&gt;&lt;/QtyOrdered&gt;</span>
        <span class="nt">&lt;UnitPrice&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"shipping_amount"</span> <span class="nt">/&gt;&lt;/UnitPrice&gt;</span>
        <span class="nt">&lt;TaxCode&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"$TaxCode"</span><span class="nt">/&gt;&lt;/TaxCode&gt;</span>
      <span class="nt">&lt;/Carriage&gt;</span>

      <span class="nt">&lt;TakenBy&gt;</span>Magento<span class="nt">&lt;/TakenBy&gt;</span>
      <span class="nt">&lt;PaymentRef&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"payment/method"</span><span class="nt">/&gt;&lt;/PaymentRef&gt;</span>
      <span class="nt">&lt;PaymentAmount&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"payment/amount_ordered"</span><span class="nt">/&gt;&lt;/PaymentAmount&gt;</span>
      <span class="nt">&lt;BankAccount&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"$BankAccount"</span><span class="nt">/&gt;&lt;/BankAccount&gt;</span>

    <span class="nt">&lt;/SalesOrder&gt;</span>
  <span class="nt">&lt;/xsl:template&gt;</span>

  <span class="nt">&lt;xsl:template</span> <span class="na">name=</span><span class="s">"Item"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Item&gt;</span>
      <span class="nt">&lt;Sku&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"sku"</span> <span class="nt">/&gt;&lt;/Sku&gt;</span>
      <span class="nt">&lt;Name&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"name"</span> <span class="nt">/&gt;&lt;/Name&gt;</span>
      <span class="nt">&lt;QtyOrdered&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"qty_ordered"</span> <span class="nt">/&gt;&lt;/QtyOrdered&gt;</span>
      <span class="nt">&lt;UnitPrice&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"price"</span> <span class="nt">/&gt;&lt;/UnitPrice&gt;</span>
      <span class="nt">&lt;TaxCode&gt;&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"$TaxCode"</span><span class="nt">/&gt;&lt;/TaxCode&gt;</span>
    <span class="nt">&lt;/Item&gt;</span>
  <span class="nt">&lt;/xsl:template&gt;</span>

  <span class="nt">&lt;xsl:template</span> <span class="na">name=</span><span class="s">"string-replace-all"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;xsl:param</span> <span class="na">name=</span><span class="s">"text"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;xsl:param</span> <span class="na">name=</span><span class="s">"replace"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;xsl:param</span> <span class="na">name=</span><span class="s">"by"</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;xsl:choose&gt;</span>
      <span class="nt">&lt;xsl:when</span> <span class="na">test=</span><span class="s">"contains($text,$replace)"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"substring-before($text,$replace)"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"$by"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">"string-replace-all"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">"text"</span> <span class="na">select=</span><span class="s">"substring-after($text,$replace)"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">"replace"</span> <span class="na">select=</span><span class="s">"$replace"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">"by"</span> <span class="na">select=</span><span class="s">"$by"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/xsl:call-template&gt;</span>
      <span class="nt">&lt;/xsl:when&gt;</span>
      <span class="nt">&lt;xsl:otherwise&gt;</span>
        <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">"$text"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/xsl:otherwise&gt;</span>
    <span class="nt">&lt;/xsl:choose&gt;</span>
  <span class="nt">&lt;/xsl:template&gt;</span>

<span class="nt">&lt;/xsl:stylesheet&gt;</span>
</code></pre>
</div>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/workflow/docs/tree/master/_documentation/Magento-V1-Connector/Downloading-Orders-from-Magento.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
