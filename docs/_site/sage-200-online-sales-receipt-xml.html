<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sage 200 Online Sales Receipt XML</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a>
    <ul>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>Sage 200 Online Sales Receipt XML</h1>
                    <p>Receipts are used to record a sales receipt against a particular customerâ€™s account.  Uploading a sales receipt will create a posted transaction, to download receipts see [Exporting Sales Transactions from Sage 200 Online]] which will bring data back in [<a href="exporting-sales-transactions-from-sage-200-online]]-which-will-bring-data-back-in-[[sage-200-online-sales-transaction-xml">Sage 200 Online Sales Transaction XML</a> format. Further information can be found on the <a href="https://developer.columbus.sage.com/docs#/uk/sage200/accounts/v1/sales_receipts">Sage 200 Online Sales Receipts API Documentation</a>.</p>

<h2 id="tasks">Tasks</h2>
<ul>
  <li><a href="exporting-sales-transactions-from-sage-200-online">Exporting Sales Transactions from Sage 200 Online</a></li>
  <li><a href="importing-sales-receipts-to-sage-200-online">Importing Sales Receipts to Sage 200 Online</a></li>
</ul>

<h2 id="identifiers">Identifiers</h2>
<h3 id="external_id">external_id</h3>
<p><em>Optional (recommended)</em><br />
To prevent duplicates sales receipts being imported into Sage 200 we would recommend to always set the external_id field to a unique id from the source system.  When the field is provided it will be stored within Zynks internal database along with the URN assigned by Sage 200.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>string(255)</td>
      <td>12345</td>
      <td><code class="highlighter-rouge">&lt;external_id&gt;12345&lt;/external_id&gt;</code></td>
    </tr>
  </tbody>
</table>

<h2 id="fields-for-download-and-upload">Fields for Download and Upload</h2>
<h3 id="customer_id">customer_id</h3>
<p><em>Dependant (see <a href="#customer">customer</a>)</em><br />
Customer record Id, can also be set using customer reference, see <a href="#customer">customer</a>.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>integer(int64)</td>
      <td>27006</td>
      <td><code class="highlighter-rouge">&lt;customer_id&gt;27006&lt;/customer_id&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="bank_id">bank_id</h3>
<p><em>Dependant (see <a href="#bank">bank</a>)</em><br />
Bank record Id, can also be set using bank code, see <a href="#bank">bank</a>.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>integer(int64)</td>
      <td>1</td>
      <td><code class="highlighter-rouge">&lt;bank_id&gt;1&lt;/bank_id&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="cheque_value">cheque_value</h3>
<p><em>Required</em><br />
Value of the receipt.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>number(decimal 2dp)</td>
      <td>120</td>
      <td><code class="highlighter-rouge">&lt;cheque_value&gt;120&lt;/cheque_value&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="cheque_currency_id">cheque_currency_id</h3>
<p><em>Optional (see <a href="#cheque_currency">cheque_currency</a>)</em><br />
Receipt currency record Id, can also be set using cheque currency code, see <a href="#cheque_currency">cheque_currency</a>.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>integer(int64)</td>
      <td>1</td>
      <td><code class="highlighter-rouge">&lt;cheque_currency_id&gt;1&lt;/cheque_currency_id&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="customer_cheque_value">customer_cheque_value</h3>
<p><em>Optional</em><br />
Value to post to the customer account</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>number(decimal 2dp)</td>
      <td>120</td>
      <td><code class="highlighter-rouge">&lt;customer_cheque_value&gt;120&lt;/customer_cheque_value&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="transaction_date">transaction_date</h3>
<p><em>Optional</em><br />
Transaction date.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>datetime</td>
      <td>2017-06-02T00:00:00</td>
      <td><code class="highlighter-rouge">&lt;transaction_date&gt;2017-06-02T00:00:00&lt;/transaction_date&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="exchange_rate">exchange_rate</h3>
<p><em>Optional</em><br />
Exchange rate for the receipt.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>number(decimal 6dp)</td>
      <td>1.000000</td>
      <td><code class="highlighter-rouge">&lt;exchange_rate&gt;1.000000&lt;/exchange_rate&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="settlement_discount_value">settlement_discount_value</h3>
<p><em>Optional</em><br />
Settlement discount value.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>number(decimal 2dp)</td>
      <td>0</td>
      <td><code class="highlighter-rouge">&lt;settlement_discount_value&gt;0&lt;/settlement_discount_value&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="reference">reference</h3>
<p><em>Optional</em><br />
Receipt reference.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>string(20)</td>
      <td>Web Sales</td>
      <td><code class="highlighter-rouge">&lt;reference&gt;Web Sales&lt;/reference&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="second_reference">second_reference</h3>
<p><em>Optional</em><br />
Receipt second reference.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>string(20)</td>
      <td>Order #12345</td>
      <td><code class="highlighter-rouge">&lt;second_reference&gt;Order #12345&lt;/second_reference&gt;</code></td>
    </tr>
  </tbody>
</table>

<h3 id="nominal_analysis_items">nominal_analysis_items</h3>
<p><em>Optional</em><br />
Nominal analysis lines.  The <code class="highlighter-rouge">&lt;nominal_analysis_items&gt;</code> node is a collection of <code class="highlighter-rouge">&lt;nominal_analysis_item&gt;</code> nodes that allow you analyse the value of the sales receipt to specific nominal codes.  See full example XML below.</p>

<h4 id="code">code</h4>
<p><em>Required</em><br />
Nominal account code.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>string(8)</td>
      <td>4000</td>
      <td><code class="highlighter-rouge">&lt;code&gt;4000&lt;/code&gt;</code></td>
    </tr>
  </tbody>
</table>

<h4 id="cost_centre">cost_centre</h4>
<p><em>Optional</em><br />
Cost centre. If specified must correspond to the code.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>string(3)</td>
      <td>020</td>
      <td><code class="highlighter-rouge">&lt;cost_centre&gt;020&lt;/cost_centre&gt;</code></td>
    </tr>
  </tbody>
</table>

<h4 id="department">department</h4>
<p><em>Optional</em><br />
Department. If specified must correspond to the code.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>string(3)</td>
      <td>SAL</td>
      <td><code class="highlighter-rouge">&lt;department&gt;SAL&lt;/department&gt;</code></td>
    </tr>
  </tbody>
</table>

<h4 id="value">value</h4>
<p><em>Optional</em><br />
Value to post to the nominal account.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Example</th>
      <th>XML</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>number(decimal 2dp)</td>
      <td>120</td>
      <td><code class="highlighter-rouge">&lt;value&gt;120&lt;/value&gt;</code></td>
    </tr>
  </tbody>
</table>

<h2 id="expandable-fields">Expandable Fields</h2>
<p>Related information linked to sales receipts are also included in the downloaded XML, these can also be used to set certain fields on sales receipt uploads using lookups rather than needing to know the internal id of the related record.</p>

<h3 id="customer">customer</h3>
<p><em>Dependant (see <a href="#customer_id">customer_id</a>)</em><br />
The sales receipts customer.  On an upload you can set the reference of the customer to use for the sales receipt and Zynk will lookup the correct internal id from Sage.</p>

<h4 id="upload-example-using-the-reference">Upload example using the reference</h4>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;customer&gt;</span>
    <span class="nt">&lt;reference&gt;</span>ZYNK001<span class="nt">&lt;/reference&gt;</span>
<span class="nt">&lt;/customer&gt;</span>
</code></pre>
</div>

<h3 id="bank">bank</h3>
<p><em>Dependant (see <a href="#bank_id">bank_id</a>)</em><br />
The sales receipts bank.  On an upload you can set the code of the bank to use for the sales receipt and Zynk will lookup the correct internal id from Sage.</p>

<h4 id="upload-example-using-the-code">Upload example using the code</h4>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;bank&gt;</span>
    <span class="nt">&lt;code&gt;</span>DEFAULT<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;/bank&gt;</span>
</code></pre>
</div>

<h3 id="cheque_currency">cheque_currency</h3>
<p><em>Optional (see <a href="#cheque_currency_id">cheque_currency_id</a>)</em><br />
The cheque currency of the receipt.  On an upload you can set the code of the currency to use for the sales receipt and Zynk will lookup the correct internal id from Sage.</p>

<h4 id="upload-example-using-the-code-1">Upload example using the code</h4>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;cheque_currency&gt;</span>
    <span class="nt">&lt;code&gt;</span>GBP<span class="nt">&lt;/code&gt;</span>
<span class="nt">&lt;/cheque_currency&gt;</span>
</code></pre>
</div>

<h2 id="example-xml">Example XML</h2>
<h3 id="minimal-example">Minimal Example</h3>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;SalesReceipts</span> 
    <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
    <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;SalesReceipt&gt;</span>
        <span class="nt">&lt;cheque_value&gt;</span>120<span class="nt">&lt;/cheque_value&gt;</span>
        <span class="nt">&lt;bank&gt;</span>
            <span class="nt">&lt;code&gt;</span>DEFAULT<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;/bank&gt;</span>
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;reference&gt;</span>ZYNK001<span class="nt">&lt;/reference&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
    <span class="nt">&lt;/SalesReceipt&gt;</span>
<span class="nt">&lt;/SalesReceipts&gt;</span>
</code></pre>
</div>

<h3 id="full-example">Full Example</h3>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;SalesReceipts</span> 
    <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
    <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;SalesReceipt&gt;</span>
        <span class="nt">&lt;external_id&gt;</span>12345<span class="nt">&lt;/external_id&gt;</span>
        <span class="nt">&lt;customer_id&gt;</span>27006<span class="nt">&lt;/customer_id&gt;</span>
        <span class="nt">&lt;cheque_value&gt;</span>120<span class="nt">&lt;/cheque_value&gt;</span>
        <span class="nt">&lt;cheque_currency_id&gt;</span>1<span class="nt">&lt;/cheque_currency_id&gt;</span>
        <span class="nt">&lt;customer_cheque_value&gt;</span>120<span class="nt">&lt;/customer_cheque_value&gt;</span>
        <span class="nt">&lt;transaction_date&gt;</span>2017-06-02T00:00:00<span class="nt">&lt;/transaction_date&gt;</span>
        <span class="nt">&lt;exchange_rate&gt;</span>1.000000<span class="nt">&lt;/exchange_rate&gt;</span>
        <span class="nt">&lt;settlement_discount_value&gt;</span>0<span class="nt">&lt;/settlement_discount_value&gt;</span>
        <span class="nt">&lt;reference&gt;</span>Web Sales<span class="nt">&lt;/reference&gt;</span>
        <span class="nt">&lt;second_reference&gt;</span>Order #12345<span class="nt">&lt;/second_reference&gt;</span>
        <span class="nt">&lt;bank&gt;</span>
            <span class="nt">&lt;code&gt;</span>DEFAULT<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;/bank&gt;</span>
        <span class="nt">&lt;customer&gt;</span>
            <span class="nt">&lt;reference&gt;</span>ZYNK001<span class="nt">&lt;/reference&gt;</span>
        <span class="nt">&lt;/customer&gt;</span>
        <span class="nt">&lt;cheque_currency&gt;</span>
            <span class="nt">&lt;code&gt;</span>GBP<span class="nt">&lt;/code&gt;</span>
        <span class="nt">&lt;/cheque_currency&gt;</span>
        <span class="nt">&lt;nominal_analysis_items&gt;</span>
            <span class="nt">&lt;nominal_analysis_item&gt;</span>
                <span class="nt">&lt;code&gt;</span>4000<span class="nt">&lt;/code&gt;</span>
                <span class="nt">&lt;cost_centre&gt;</span>020<span class="nt">&lt;/cost_centre&gt;</span>
                <span class="nt">&lt;department&gt;</span>SAL<span class="nt">&lt;/department&gt;</span>
                <span class="nt">&lt;value&gt;</span>120<span class="nt">&lt;/value&gt;</span>
            <span class="nt">&lt;/nominal_analysis_item&gt;</span>
        <span class="nt">&lt;/nominal_analysis_items&gt;</span>
    <span class="nt">&lt;/SalesReceipt&gt;</span>
<span class="nt">&lt;/SalesReceipts&gt;</span>
</code></pre>
</div>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/workflow/docs/tree/master/_documentation/Sage-200-Online-Connector/Sage-200-Online-Sales-Receipt-XML.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
