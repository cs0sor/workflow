<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sage 200 GRN XML</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a></li>
  <li>[[Introduction]]
    <ul>
      <li>[[Welcome]]</li>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>Sage 200 GRN XML</h1>
                    <p>Import Goods Received Notes allows you to receive specific item lines on purchase orders within Sage 200.  We recommend that the Id field be populated by the unique id of the goods received note from the external system, Zynk uses this field for logging if there are issues with the import.</p>

<p>Any Sage fields not documented below are not directly supported with our imports.</p>

<p>Sample import file for creating a basic goods received note</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company&gt;</span>
  <span class="nt">&lt;GoodsNotes&gt;</span>
    <span class="nt">&lt;GoodsNote&gt;</span>
      <span class="nt">&lt;Id&gt;</span>123456<span class="nt">&lt;/Id&gt;</span>
      <span class="nt">&lt;AccountReference&gt;</span>MCN001<span class="nt">&lt;/AccountReference&gt;</span>
      <span class="nt">&lt;Type&gt;</span>GoodsReceivedNote<span class="nt">&lt;/Type&gt;</span>
      <span class="nt">&lt;OrderNumber&gt;</span>38<span class="nt">&lt;/OrderNumber&gt;</span>
      <span class="nt">&lt;Reference&gt;</span>PROJ006<span class="nt">&lt;/Reference&gt;</span>
      <span class="nt">&lt;Date&gt;</span>2012-10-03T10:00:00<span class="nt">&lt;/Date&gt;</span>
      <span class="nt">&lt;Sku&gt;</span>PC005<span class="nt">&lt;/Sku&gt;</span>
      <span class="nt">&lt;Quantity&gt;</span>3<span class="nt">&lt;/Quantity&gt;</span>
    <span class="nt">&lt;/GoodsNote&gt;</span>
  <span class="nt">&lt;/GoodsNotes&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<p>In the following section, the mapping between the XML goods note object model and the Sage 200 goods received note fields are described.</p>

<table>
  <thead>
    <tr>
      <th>XML Field </th>
      <th>Sage Field </th>
      <th>Required </th>
      <th>Notes </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Id</td>
      <td>N/A</td>
      <td>No</td>
      <td>Used internally in Zynk</td>
    </tr>
    <tr>
      <td>AccountReference</td>
      <td>A/C ref</td>
      <td>Yes</td>
      <td>The Sage 200 supplier account reference that the purchase order is assigned to in Sage </td>
    </tr>
    <tr>
      <td>Type</td>
      <td>N/A</td>
      <td>Yes</td>
      <td>Must be GoodsReceivedNote</td>
    </tr>
    <tr>
      <td>OrderNumber</td>
      <td>Order No</td>
      <td>Yes</td>
      <td>The Sage 200 purchase order no that you would like to receive to</td>
    </tr>
    <tr>
      <td>Reference</td>
      <td>Reference</td>
      <td>Yes</td>
      <td>The reference you would like to use for the generated goods received note</td>
    </tr>
    <tr>
      <td>Details</td>
      <td>Narrative</td>
      <td>No</td>
      <td> </td>
    </tr>
    <tr>
      <td>Date</td>
      <td>Date</td>
      <td>No</td>
      <td>The date that the goods were received, will be defaulted to today’s date if not provided</td>
    </tr>
    <tr>
      <td>Sku</td>
      <td>Item Code </td>
      <td>Yes</td>
      <td>The Sage 200 item code that you would like to receive</td>
    </tr>
    <tr>
      <td>Quantity</td>
      <td>Qty Received </td>
      <td>Yes</td>
      <td>The quantity of the item that you would like to receive </td>
    </tr>
  </tbody>
</table>

<p>In each of the following sections most of the XML has been omitted to make the samples easier to read, you will need to provide the above as a minimum to create a goods received note. The whole structure of the Company schema is used below as a reference of where fields should be in the object model.</p>

<h2 id="traceable-items">Traceable Items</h2>
<p>If you deal with traceable (batch or serial) items in Sage 200, then you can optionally provide the traceable identification numbers to receive the goods as.</p>

<p>N.B. When importing the goods received note, we will first of all check that the Sage 200 item we are dealing with is set up as a traceable item. If the item is not a traceable item in Sage 200 then any batches provided will be ignored.</p>

<p>N.B. The sum of the quantities of all provided batches must equal the quantity on the goods note.</p>

<h3 id="batch-items">Batch items</h3>
<p>If the item on the goods received note is configured in Sage 200 as a batch item, you can specify the batch information on the goods received note according to the below mapping.</p>

<table>
  <thead>
    <tr>
      <th>XML Field </th>
      <th>Sage Field </th>
      <th>Required </th>
      <th>Notes </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IdentificationNo</td>
      <td>Batch No</td>
      <td>Yes</td>
      <td>The identification number for the current batch</td>
    </tr>
    <tr>
      <td>Quantity</td>
      <td>Qty Delivered</td>
      <td>Yes</td>
      <td>The quantity received in the batch, must be greater than 0</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company&gt;</span>
  <span class="nt">&lt;GoodsNotes&gt;</span>
    <span class="nt">&lt;GoodsNote&gt;</span>
      <span class="nt">&lt;Batches&gt;</span>
        <span class="nt">&lt;Batch&gt;</span>
          <span class="nt">&lt;IdentificationNo&gt;</span>BATCH1<span class="nt">&lt;/IdentificationNo&gt;</span>
          <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
        <span class="nt">&lt;/Batch&gt;</span>
        <span class="nt">&lt;Batch&gt;</span>
          <span class="nt">&lt;IdentificationNo&gt;</span>BATCH2<span class="nt">&lt;/IdentificationNo&gt;</span>
          <span class="nt">&lt;Quantity&gt;</span>2<span class="nt">&lt;/Quantity&gt;</span>
        <span class="nt">&lt;/Batch&gt;</span>
      <span class="nt">&lt;/Batches&gt;</span>
    <span class="nt">&lt;/GoodsNote&gt;</span>
  <span class="nt">&lt;/GoodsNotes&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h3 id="serial-items">Serial items</h3>
<p>If the item on the goods received note is configured in Sage 200 as a serial item, you can specify the serial information on the goods received note according to the below mapping.</p>

<table>
  <thead>
    <tr>
      <th>XML Field </th>
      <th>Sage Field </th>
      <th>Required </th>
      <th>Notes </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IdentificationNo</td>
      <td>Serial No</td>
      <td>Yes</td>
      <td>The identification number for the current serial</td>
    </tr>
    <tr>
      <td>Quantity</td>
      <td>Qty Delivered</td>
      <td>Yes</td>
      <td>Must be 1</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company&gt;</span>
  <span class="nt">&lt;GoodsNotes&gt;</span>
    <span class="nt">&lt;GoodsNote&gt;</span>
      <span class="nt">&lt;Batches&gt;</span>
        <span class="nt">&lt;Batch&gt;</span>
          <span class="nt">&lt;IdentificationNo&gt;</span>SERIAL1<span class="nt">&lt;/IdentificationNo&gt;</span>
          <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
        <span class="nt">&lt;/Batch&gt;</span>
        <span class="nt">&lt;Batch&gt;</span>
          <span class="nt">&lt;IdentificationNo&gt;</span>SERIAL2<span class="nt">&lt;/IdentificationNo&gt;</span>
          <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
        <span class="nt">&lt;/Batch&gt;</span>
        <span class="nt">&lt;Batch&gt;</span>
          <span class="nt">&lt;IdentificationNo&gt;</span>SERIAL3<span class="nt">&lt;/IdentificationNo&gt;</span>
          <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
        <span class="nt">&lt;/Batch&gt;</span>
      <span class="nt">&lt;/Batches&gt;</span>
    <span class="nt">&lt;/GoodsNote&gt;</span>
  <span class="nt">&lt;/GoodsNotes&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="batch-attributes">Batch Attributes</h2>
<p>If you deal with traceable (batch or serial) items in Sage 200, then it is possible that the stock item is configured to use ‘Sell by dates’ and/or ‘Use by dates’ and/or other custom batch attributes configured at the product group level. </p>

<p>N.B. If any attributes configured at the product group level are marked as mandatory and you try to provide these attributes in a one of the batches you are importing, then you must provide the mandatory attribute in <strong>all</strong> of the batches you are importing.</p>

<table>
  <thead>
    <tr>
      <th>XML Field </th>
      <th>Sage Field </th>
      <th>Required </th>
      <th>Notes </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Name</td>
      <td>Title</td>
      <td>No</td>
      <td>The name of the attribute to set (should be provided as it appears within Sage)</td>
    </tr>
    <tr>
      <td>Value</td>
      <td>Value</td>
      <td>No</td>
      <td>The value to use for the attribute on the batch</td>
    </tr>
  </tbody>
</table>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;Company&gt;</span>
  <span class="nt">&lt;GoodsNotes&gt;</span>
    <span class="nt">&lt;GoodsNote&gt;</span>
      <span class="nt">&lt;Batches&gt;</span>
        <span class="nt">&lt;Batch&gt;</span>
          <span class="nt">&lt;Attributes&gt;</span>
           <span class="c">&lt;!-- If specifying Use by or Sell by date--&gt;</span>
            <span class="nt">&lt;Attribute&gt;</span>
              <span class="nt">&lt;Name&gt;</span>UseByDate<span class="nt">&lt;/Name&gt;</span>
             <span class="c">&lt;!-- The following date format should be used --&gt;</span>
              <span class="nt">&lt;Value&gt;</span>2016-01-21<span class="nt">&lt;/Value&gt;</span>
            <span class="nt">&lt;/Attribute&gt;</span>
            <span class="nt">&lt;Attribute&gt;</span>
              <span class="nt">&lt;Name&gt;</span>SellByDate<span class="nt">&lt;/Name&gt;</span>
             <span class="c">&lt;!-- The following date format should be used --&gt;</span>
              <span class="nt">&lt;Value&gt;</span>2015-07-21<span class="nt">&lt;/Value&gt;</span>
            <span class="nt">&lt;/Attribute&gt;</span>
           <span class="c">&lt;!-- If specifying custom attributes--&gt;</span>
            <span class="nt">&lt;Attribute&gt;</span>
             <span class="c">&lt;!-- The title should match the title in Sage exactly --&gt;</span>
              <span class="nt">&lt;Name&gt;</span>ATTRIBUTE1<span class="nt">&lt;/Name&gt;</span>
              <span class="nt">&lt;Value&gt;</span>ATTRIBUTE1 VALUE<span class="nt">&lt;/Value&gt;</span>
            <span class="nt">&lt;/Attribute&gt;</span>
            <span class="nt">&lt;Attribute&gt;</span>
              <span class="nt">&lt;Name&gt;</span>ATTRIBUTE2<span class="nt">&lt;/Name&gt;</span>
              <span class="nt">&lt;Value&gt;</span>ATTRIBUTE2 VALUE<span class="nt">&lt;/Value&gt;</span>
            <span class="nt">&lt;/Attribute&gt;</span>
          <span class="nt">&lt;/Attributes&gt;</span>
        <span class="nt">&lt;/Batch&gt;</span>
      <span class="nt">&lt;/Batches&gt;</span>
    <span class="nt">&lt;/GoodsNote&gt;</span>
  <span class="nt">&lt;/GoodsNotes&gt;</span>
<span class="nt">&lt;/Company&gt;</span>
</code></pre>
</div>

<h2 id="sage-200-batchserial-number-configuration">Sage 200 Batch/Serial Number Configuration</h2>
<p>When items are set up in Sage 200 as traceable, the following settings can be configured at the item level, these will effect how the import goods received note routine processes the records.</p>

<p>N.B. If the <em>Allow duplicate numbers</em> setting is disabled for the item you are receiving, the identification no you provide must be unique for that item.</p>

<p>N.B. If the <em>Batch &amp; serial numbers must be recorded when goods are received</em> setting is enabled for the item you are receiving but the <em>Automatic number generation</em> setting is disabled, then you must provide the batch information on the import of the goods received note, otherwise you will receive an error and the goods received note will be rejected. </p>

<p>N.B. If the <em>Batch &amp; serial numbers must be recorded when goods are received</em> setting is enabled for the item you are receiving and the <em>Automatic number generatio</em>n setting is enabled, then the identification numbers will be generated by Sage 200 according to the automatic number generation options. The generated identification numbers and quantities will be written out to the Import Goods Received Notes success file. </p>

<p>N.B.If the <em>Batch &amp; serial numbers must be recorded when goods are received</em> setting is disabled for the item you are receiving, then if you don’t provide any batch information in the XML, no batches will be assigned (even if the setting is enabled; this reflects how this works within Sage 200). </p>

<p>N.B. Regardless of the <em>Batch &amp; serial numbers must be recorded when goods are received</em> and the <em>Automatic number generation</em> settings within Sage 200, if you provide the batch information XML in the goods received note, then this will <strong>always</strong> be used.</p>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/Zynk-workflow/docs/tree/master/_documentation/Sage-200-Connector/Sage-200-GRN-XML.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
