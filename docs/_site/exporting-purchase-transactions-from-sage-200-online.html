<!DOCTYPE html>
<html lang="en">
<head>
    <title>Exporting Purchase Transactions From Sage 200 Online</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,600,900" rel="stylesheet">
    <link rel="stylesheet" href="css/github.css">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/style.css">
 </head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="xcontainer">
        <div class="navbar-header">
            <a class="navbar-brand" title="Go to Zynk.com" href="http://zynk.com"><img class="img-responsive" id="logo-main" src="assets/logo.svg" alt="Click here to visit Zynk.com" /></a>
        </div>
        <div id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li class="topnav-2"><a href="mailto:support@zynk.com">support@zynk.com</a></li>
                </ul>
        </div>
    </div>
</nav>

<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        
        <h1>Zynk Workflow Documentation</h1>
<ul>
  <li><a href="index">Home</a>
    <ul>
      <li>[[Getting Started]]</li>
      <li>[[Key Concepts]]</li>
      <li>[[Using Zynk]]</li>
      <li>[[Settings]]</li>
      <li>[[Extensions]]</li>
      <li>[[Integrations]]</li>
    </ul>
  </li>
  <li>[[Accounting]]
    <ul>
      <li>[[Sage 50 UK]]</li>
      <li>[[Sage 200]]</li>
      <li>[[Sage 200 Online]]</li>
      <li>[[Xero]]</li>
      <li>[[Kashflow]]</li>
      <li>[[Quickbooks Online]]</li>
      <li>[[Sage 50 US]]</li>
      <li>[[Brightpearl]]</li>
      <li>[[Sage One]]</li>
      <li>[[Sage 50 Payroll]]</li>
      <li>[[Sage 50 UK Reporting]]</li>
    </ul>
  </li>
  <li>[[CRM]]
    <ul>
      <li>[[ACT]]</li>
      <li>[[AutoTask]]</li>
      <li>[[BXP]]</li>
      <li>[[Campaign Monitor]]</li>
      <li>[[ConnectWise]]</li>
      <li>[[Salesforce]]</li>
      <li>[[Sugar CRM]]</li>
      <li>[[Zoho CRM]]</li>
    </ul>
  </li>
  <li>[[Databases]]
    <ul>
      <li>[[SQL Server]]</li>
      <li>[[SQLite]]</li>
      <li>[[ODBC]]</li>
      <li>[[OLEDB]]</li>
    </ul>
  </li>
  <li>[[Ecommerce]]
    <ul>
      <li>[[Amazon Marketplace]]</li>
      <li>[[Amazon Vendor Central]]</li>
      <li>[[BigCommerce]]</li>
      <li>[[Channel Advisor]]</li>
      <li>[[CoreCommerce]]</li>
      <li>[[Easy Webstore]]</li>
      <li>[[Ebay]]</li>
      <li>[[EKM Powershop]]</li>
      <li>[[Magento V1]]</li>
      <li>[[Magento V2]]</li>
      <li>[[PayPal]]</li>
      <li>[[Shopify]]</li>
      <li>[[WooCommerce]]</li>
    </ul>
  </li>
  <li>[[Files]]
    <ul>
      <li>[[CSV]]</li>
      <li>[[HTML]]</li>
      <li>[[Excel]]</li>
      <li>[[File]]</li>
      <li>[[File Helpers]]</li>
      <li>[[JSON]]</li>
      <li>[[PDF]]</li>
      <li>[[XML and XSLT]]</li>
    </ul>
  </li>
  <li>[[Cloud]]
    <ul>
      <li>[[Amazon S3]]</li>
    </ul>
  </li>
  <li>[[Social]]
    <ul>
      <li>[[LinkedIn]]</li>
      <li>[[Twitter]]</li>
      <li>[[Facebook]]</li>
    </ul>
  </li>
  <li>[[Web]]
    <ul>
      <li>[[Email]]</li>
      <li>[[FTP]]</li>
      <li>[[SFTP]]</li>
      <li>[[HTTP]]</li>
    </ul>
  </li>
  <li>[[Other]]
    <ul>
      <li>[[Developer]]</li>
      <li>[[SMS]]</li>
      <li>[[User Interface]]</li>
      <li>[[WordPress]]</li>
      <li>[[Zynk Core]]</li>
    </ul>
  </li>
  <li>[[Contact Us]]</li>
</ul>

    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a>
                    <h1>Exporting Purchase Transactions From Sage 200 Online</h1>
                    <p>This task will download purchase transactions from Sage 200 Online to an XML file.</p>

<h2 id="settings">Settings</h2>
<h3 id="sage-200-online-connection">Sage 200 Online Connection</h3>
<p><em>Required</em><br />
The connection to Sage 200 Online to use. See the <a href="connecting-to-sage-200-online">Connecting to Sage 200 Online</a> article if you require more information on how to create/manage connections.</p>

<h3 id="export-settings--date-modified">Export Settings &gt; Date Modified</h3>
<p><em>Required</em><br />
When the ‘Export Modified or All Records’ setting is set to ‘Modified’, only records modified after this date will be downloaded. The date will update automatically each time the task runs, to ensure that only records modified since the task last ran will be downloaded.</p>

<h3 id="export-settings--export-modified-or-all-records">Export Settings &gt; Export Modified or All Records</h3>
<p><em>Required</em><br />
Used to choose which records should be included in the download. The available options are:</p>

<ul>
  <li><strong>All</strong> - All records will be downloaded, regardless of whether or not they have been updated since the task last ran.</li>
  <li><strong>Modified</strong> - Only records created or updated since the task last ran will be downloaded.</li>
</ul>

<h3 id="filter">Filter</h3>
<p><em>Optional</em><br />
Allows a filter to be set to limit the data that is returned. For example, you can return purchase transactions for the supplier with ID 1 using: <code class="highlighter-rouge">supplier_id eq 1</code></p>

<p>Sage 200 Online uses the OData protocol, and expects the filter to be specified in this format. You can find more information on OData filters <a href="http://www.odata.org/getting-started/basic-tutorial/#queryData">here</a>.</p>

<h3 id="output-file">Output File</h3>
<p><em>Required</em><br />
The name of the file to save the downloaded records to.</p>

<h3 id="page-size">Page Size</h3>
<p><em>Required</em><br />
The number of records to include in each page of results downloaded from Sage. Increasing this value will speed up the download, but will use more memory. Defaults to 50.</p>

<h3 id="zynk-settings">Zynk Settings</h3>
<p>See <a href="common-task-settings">Common Task Settings</a>.</p>

<h2 id="examples">Examples</h2>
<p>Sample output file:</p>
<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;PurchaseTransactions</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PurchaseTransaction&gt;</span>
    <span class="nt">&lt;id&gt;</span>17277<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;date_time_updated&gt;</span>2016-05-17T14:28:25.227<span class="nt">&lt;/date_time_updated&gt;</span>
    <span class="nt">&lt;trader_transaction_type&gt;</span>TradingAccountEntryTypeInvoice<span class="nt">&lt;/trader_transaction_type&gt;</span>
    <span class="nt">&lt;reference&gt;</span>123<span class="nt">&lt;/reference&gt;</span>
    <span class="nt">&lt;second_reference&gt;</span>456<span class="nt">&lt;/second_reference&gt;</span>
    <span class="nt">&lt;queried</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;transaction_date&gt;</span>2016-05-17T00:00:00<span class="nt">&lt;/transaction_date&gt;</span>
    <span class="nt">&lt;posted_date&gt;</span>2016-05-17T00:00:00<span class="nt">&lt;/posted_date&gt;</span>
    <span class="nt">&lt;due_date&gt;</span>2016-06-16T00:00:00<span class="nt">&lt;/due_date&gt;</span>
    <span class="nt">&lt;document_goods_value&gt;</span>200.00<span class="nt">&lt;/document_goods_value&gt;</span>
    <span class="nt">&lt;document_gross_value&gt;</span>240.00<span class="nt">&lt;/document_gross_value&gt;</span>
    <span class="nt">&lt;document_tax_value&gt;</span>40.00<span class="nt">&lt;/document_tax_value&gt;</span>
    <span class="nt">&lt;document_discount_value&gt;</span>0.00<span class="nt">&lt;/document_discount_value&gt;</span>
    <span class="nt">&lt;discount_percent&gt;</span>0.00<span class="nt">&lt;/discount_percent&gt;</span>
    <span class="nt">&lt;document_tax_discount_value&gt;</span>0.00<span class="nt">&lt;/document_tax_discount_value&gt;</span>
    <span class="nt">&lt;document_allocated_value&gt;</span>240.00<span class="nt">&lt;/document_allocated_value&gt;</span>
    <span class="nt">&lt;document_outstanding_value&gt;</span>0.00<span class="nt">&lt;/document_outstanding_value&gt;</span>
    <span class="nt">&lt;base_goods_value&gt;</span>200.0<span class="nt">&lt;/base_goods_value&gt;</span>
    <span class="nt">&lt;base_gross_value&gt;</span>240.0<span class="nt">&lt;/base_gross_value&gt;</span>
    <span class="nt">&lt;base_tax_value&gt;</span>40.0<span class="nt">&lt;/base_tax_value&gt;</span>
    <span class="nt">&lt;base_discount_value&gt;</span>0.0<span class="nt">&lt;/base_discount_value&gt;</span>
    <span class="nt">&lt;base_tax_discount_value&gt;</span>0.0<span class="nt">&lt;/base_tax_discount_value&gt;</span>
    <span class="nt">&lt;base_allocated_value&gt;</span>240.0<span class="nt">&lt;/base_allocated_value&gt;</span>
    <span class="nt">&lt;control_value_in_base_currency&gt;</span>0.00<span class="nt">&lt;/control_value_in_base_currency&gt;</span>
    <span class="nt">&lt;exchange_rate&gt;</span>1.000000<span class="nt">&lt;/exchange_rate&gt;</span>
    <span class="nt">&lt;settled_immediately&gt;</span>false<span class="nt">&lt;/settled_immediately&gt;</span>
    <span class="nt">&lt;discount_days&gt;</span>0<span class="nt">&lt;/discount_days&gt;</span>
    <span class="nt">&lt;urn&gt;</span>2<span class="nt">&lt;/urn&gt;</span>
    <span class="nt">&lt;user_name&gt;</span>Demo Site<span class="nt">&lt;/user_name&gt;</span>
    <span class="nt">&lt;supplier_id&gt;</span>15326<span class="nt">&lt;/supplier_id&gt;</span>
    <span class="nt">&lt;supplier&gt;</span>
      <span class="nt">&lt;id&gt;</span>15326<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;date_time_updated&gt;</span>2016-05-17T14:27:58.18<span class="nt">&lt;/date_time_updated&gt;</span>
      <span class="nt">&lt;reference&gt;</span>ZYN001<span class="nt">&lt;/reference&gt;</span>
      <span class="nt">&lt;name&gt;</span>Zynk Software<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;short_name&gt;</span>Zynk Sof<span class="nt">&lt;/short_name&gt;</span>
      <span class="nt">&lt;balance&gt;</span>0.00<span class="nt">&lt;/balance&gt;</span>
      <span class="nt">&lt;on_hold&gt;</span>false<span class="nt">&lt;/on_hold&gt;</span>
      <span class="nt">&lt;currency_id&gt;</span>1<span class="nt">&lt;/currency_id&gt;</span>
      <span class="nt">&lt;exchange_rate_type&gt;</span>ExchangeRateSingle<span class="nt">&lt;/exchange_rate_type&gt;</span>
      <span class="nt">&lt;telephone_country_code</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;telephone_area_code</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;telephone_subscriber_number</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;fax_country_code</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;fax_area_code</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;fax_subscriber_number</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;website</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;credit_limit&gt;</span>0.00<span class="nt">&lt;/credit_limit&gt;</span>
      <span class="nt">&lt;country_code_id&gt;</span>13<span class="nt">&lt;/country_code_id&gt;</span>
      <span class="nt">&lt;default_tax_code_id&gt;</span>2<span class="nt">&lt;/default_tax_code_id&gt;</span>
      <span class="nt">&lt;vat_number</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;analysis_code_1</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;analysis_code_2</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;analysis_code_3</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;analysis_code_4</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;analysis_code_5</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/supplier&gt;</span>
    <span class="nt">&lt;vat_adjustment_doc_expected&gt;</span>false<span class="nt">&lt;/vat_adjustment_doc_expected&gt;</span>
  <span class="nt">&lt;/PurchaseTransaction&gt;</span>
<span class="nt">&lt;/PurchaseTransactions&gt;</span>
</code></pre>
</div>

                    <hr>
                    <div class="row">
                        <div class="col-sm-6"><a onclick="history.go(-1)" href="#"><span class="fa fa-arrow-left"></span>Back</a></div>
                        <div class="col-sm-6 text-right"><a href="http://github.com/workflow/docs/tree/master/_documentation/Sage-200-Online-Connector/Exporting-Purchase-Transactions-From-Sage-200-Online.md"><span class="fa fa-github"></span>Edit on Github</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>



<script>
    var screenWidth = $(window).width();

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (screenWidth > 768 && pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if (scrollItem) {
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
        }
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $("#sidebar-wrapper").scrollTop(0);
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

    if (screenWidth <= 768) {
        $("#menu-toggle").click();            
    }

    //Allow clicking on non-linked headers to jump to its #href
    $("h2,h3,h4").click(function(){
        if (this.id && this.innerHTML.indexOf("<a") == -1) {
            location.href = "#" + this.id;
        }
    });

    
    
    //should no longer be needed now that we're referencing server-side /slug permalinks
(function () {
    "use strict";
    String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.split(search).join(replacement);
    };

    function fixDoubleBracketLinks(cssSelector) {
        var sidebarText = $(cssSelector)[0].innerHTML;
        var matches = sidebarText.match(/\[\[(.+?)\]\]/g);
        var result = sidebarText;
        if(matches != null) {
            for(var i = 0; i < matches.length; i++) {
                var text = matches[i].replaceAll('[[','').replaceAll(']]','');
                result = result.replace(matches[i],
                    '<a href="' +
                    encodeURIComponent(text.replaceAll(' ','-').toLocaleLowerCase()) +
                    '">' + text + '</a>')
            }
            $(cssSelector).html(result);
        }
    }

    fixDoubleBracketLinks('#page-content-wrapper');
    fixDoubleBracketLinks('#sidebar-wrapper');
})();
    
</script>
    
    
    
</body>
</html>
